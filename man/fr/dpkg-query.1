.\" dpkg manual page - dpkg-query(1)
.\"
.\" Copyright © 2001 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright © 2006-2007 Frank Lichtenheld <djpig@debian.org>
.\" Copyright © 2006-2015 Guillem Jover <guillem@debian.org>
.\" Copyright © 2008-2011 Rapha\(:el Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-query 1 2019-03-25 1.19.6 "suite dpkg"
.nh
.SH NOM
dpkg\-query \- Un outil pour interroger la base de donn\('ees de dpkg
.
.SH SYNOPSIS
\fBdpkg\-query\fP [\fIoption\fP...] \fIcommande\fP
.
.SH DESCRIPTION
\fBdpkg\-query\fP est un outil pour afficher des informations sur les paquets
connus par la base de donn\('ees de \fBdpkg\fP.
.
.SH COMMANDES
.TP 
\fB\-l\fP, \fB\-\-list\fP [\fImotif\-de\-nom\-de\-paquet\fP...]
List all known packages matching one or more patterns, regardless of their
status, which includes any real or virtual package referenced in any
dependency relationship field (such as \fBBreaks\fP, \fBEnhances\fP, etc.).  If no
\fIpackage\-name\-pattern\fP is given, list all packages in \fI/var/lib/dpkg/status\fP,
excluding the ones marked as not\-installed (i.e.  those which have been
previously purged).  Normal shell wildcard characters are allowed in
\fIpackage\-name\-pattern\fP.  Please note you will probably have to quote
\fIpackage\-name\-pattern\fP to prevent the shell from performing filename
expansion.  For example this will list all package names starting with
\*(lqlibc6\*(rq:

.nf
\fBdpkg\-query \-l 'libc6*'\fP
.fi

Les trois premi\(`eres colonnes affich\('ees montrent dans l'ordre\ : l'action
souhait\('ee, l'\('etat du paquet et les erreurs.

Action souhait\('ee\ :
.nf
  u = Inconnu (Unknown)
  i = Installer (Install)
  h = Garder (Hold)
  r = Supprimer (Remove)
  p = Purger (Purge)
.fi

\('Etat du paquet\ :
.nf
  n = Non install\('e (Not\-installed)
  c = Fichiers de configuration (Config\-files)
  H = Semi\-install\('e (Half\-installed)
  U = D\('ecompress\('e (Unpacked)
  F = Semi\-configur\('e (Half\-configured)
  W = Attente de d\('eclenchements (Triggers\-awaiting)
  t = D\('eclenchements en attente (Triggers\-pending)
  i = Install\('e (Installed)
.fi

Drapeaux d'erreur\ :
.nf
  <empty> = (aucun)
  R = R\('einstallation requise (Reinst\-required)
.fi

Un \('etat en majuscules ou une lettre d'erreur indiquent que le paquet peut
provoquer des probl\(`emes graves. Veuillez consulter \fBdpkg\fP(1) \(`a propos des
\('etats et drapeaux ci\-dessus.

On ne peut pas configurer le format de sortie de cette option. Il s'adapte
automatiquement \(`a la largeur du terminal. Ce format est destin\('e aux humains
et la machine le lit mal. Voyez \fB\-W\fP (\fB\-\-show\fP) et \fB\-\-showformat\fP pour
une possible configuration de ce format.
.TP 
\fB\-W\fP, \fB\-\-show\fP [\fImotif\-de\-nom\-de\-paquet\fP...]
Tout comme l'option \fB\-\-list\fP, cette option affiche la liste des paquets qui
correspondent au motif donn\('e. La sortie peut cependant \(^etre format\('ee en
utilisant l'option \fB\-\-showformat\fP. Le format de sortie par d\('efaut est le
suivant\ : une ligne pour chaque paquet, avec le nom (\('eventuellement compl\('et\('e
par l'identifiant d'architecture pour les paquets \fBMulti\-Arch\fP \fBsame\fP) et
la version install\('ee, s\('epar\('es par une tabulation.
.TP 
\fB\-s\fP, \fB\-\-status\fP [\fInom\-du\-paquet\fP ...]
Donne l'\('etat du paquet indiqu\('e. C'est simplement l'affichage de l'entr\('ee de
la base de donn\('ees concernant les \('etats des paquets install\('es. Si aucun
\fInom\-de\-paquet\fP n'est indiqu\('e, toutes les entr\('ees de paquet dans la base de
donn\('ees d'\('etat seront affich\('ees (depuis dpkg\ 1.19.1). Lorsque des entr\('ees de
\fInom\-de\-paquet\fP multiples sont indiqu\('ees, les entr\('ees d'\('etat demand\('ees sont
s\('epar\('ees par une ligne vide et sont dans l'ordre utilis\('e pour la liste de
param\(`etres.
.TP 
\fB\-L\fP, \fB\-\-listfiles\fP \fInom\-du\-paquet\fP...
Affiche la liste des fichiers du \fInom\-du\-paquet\fP install\('es sur le
syst\(`eme. Lorsque plusieurs \fInom\-du\-paquet\fP sont indiqu\('es, les diff\('erentes
listes de fichiers sont s\('epar\('ees par une ligne vide et elles sont fournies
dans l'ordre de la liste de param\(`etres. Il faut remarquer cependant que les
fichiers cr\('e\('es par les scripts d'installation propres aux paquets ne sont
pas affich\('es.
.TP 
\fB\-\-control\-list\fP \fInom\-du\-paquet\fP
Affiche les fichiers de contr\(^ole install\('es sur le syst\(`eme \(`a partir de
\fInom\-du\-paquet\fP (depuis dpkg\ 1.16.5). Ceux\-ci peuvent \(^etre utilis\('es en
param\(`etres d'entr\('ee de \fB\-\-control\-show\fP.
.TP 
\fB\-\-control\-show\fP \fInom\-du\-paquet\fP \fIfichier\-de\-contr\(^ole\fP
Affiche sur la sortie standard le \fIfichier\-de\-contr\(^ole\fP install\('e sur le
syst\(`eme pour \fInom\-du\-paquet\fP (depuis dpkg\ 1.16.5).
.TP 
\fB\-c\fP, \fB\-\-control\-path\fP \fInom\-du\-paquet\fP [\fIfichier\-contr\(^ole\fP]
Affiche les chemins pour les fichiers de contr\(^ole install\('es sur votre
syst\(`eme pour \fInom\-du\-paquet\fP (depuis dpkg\ 1.15.4). Si \fIfichier\-contr\(^ole\fP
est indiqu\('e, seul le chemin pour ce fichier de contr\(^ole sera affich\('e, s'il
est pr\('esent.

\fBAttention\fP\ : cette commande est obsol\(`ete parce qu'elle donne un acc\(`es
direct \(`a la base de donn\('ees interne de dpkg, et il est conseill\('e d'utiliser
\fB\-\-control\-list\fP et \fB\-\-control\-show\fP \(`a la place dans tous les cas o\(`u ces
commandes peuvent donner le m\(^eme r\('esultat. N\('eanmoins,aussi longtemps qu'il y
a un cas au moins o\(`u cette commande est n\('ecessaire (c'est\-\(`a\-dire quand il
faut supprimer le script d'un responsable endommageant postrm), et tant
qu'il n'y aura pas de bonne solution pour cela, cette commande ne sera pas
supprim\('ee.
.TP 
\fB\-S\fP, \fB\-\-search\fP \fImotif\-de\-nom\-\(`a\-rechercher\fP...
Recherche les paquets propri\('etaires de fichiers dont le nom correspond au
motif indiqu\('e. On peut utiliser tous les m\('etacaract\(`eres de l'interpr\('eteur de
commandes dans le motif, o\(`u l'ast\('erisque (\fB*\fP et le point d'interrogation
(\fB?\fP) correspondront \(`a une barre oblique et la barre oblique inverse sert
de caract\(`ere d'\('echappement.

Si le premier caract\(`ere du \fImotif\-de\-nom\-\(`a\-rechercher\fP est aucun des
caract\(`eres \(Fo\ \fB*[?/\fP\ \(Fc, il sera alors consid\('er\('e comme une sous\-cha\(^ine de
correspondance et sera implicitement entour\('e de \(Fo\ \fB*\fP\ \(Fc (comme
\fB*\fP\fImotif\-de\-nom\-\(`a\-rechercher\fP\fB*\fP). Si la cha\(^ine suivante contient un des
caract\(`eres \(Fo\ \fB*[?\e\fP\ \(Fc, il sera g\('er\('e comme un motif global, sinon tout
\(Fo\ \fB/\fP\ \(Fc ou \(Fo\ \fB/.\fP\ \(Fc terminal sera supprim\('e et une recherche litt\('erale de
chemin sera ex\('ecut\('ee.

Cette commande ne donne pas les fichiers suppl\('ementaires cr\('e\('es par les
scripts du responsable de paquet, ni les alternatives.
.TP 
\fB\-p\fP, \fB\-\-print\-avail\fP [\fInom\-du\-paquet\fP...]
Affiche les d\('etails relatifs aux paquets, tels que pr\('esents dans
\fI/var/lib/dpkg/available\fP. Si aucun \fInom\-de\-paquet\fP n'est indiqu\('e, toutes les
entr\('ees de paquet dans la base de donn\('ees d'\('etat seront affich\('ees (depuis
dpkg\ 1.19.1). Lorsque des entr\('ees de \fInom\-de\-paquet\fP multiples sont
indiqu\('ees, les entr\('ees \fIavailable\fP demand\('ees sont s\('epar\('ees par une ligne
vide et sont dans l'ordre utilis\('e pour la liste de param\(`etres.

Les utilisateurs des outils bas\('es sur APT devraient plut\(^ot utiliser la
commande \fBapt\-cache show\fP \fInom\-du\-paquet\fP car le fichier \fIavailable\fP
n'est tenu \(`a jour que lorsque \fBdselect\fP est utilis\('e.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Affiche un message d'aide puis quitte.
.TP 
\fB\-\-version\fP
Affiche le num\('ero de version puis quitte.
.
.SH OPTIONS
.TP 
\fB\-\-admindir\fP=\fIr\('epertoire\fP
Change l'endroit o\(`u se trouve la base de donn\('ees de \fBdpkg\fP. Par d\('efaut,
c'est \fI/var/lib/dpkg\fP.
.TP 
\fB\-\-load\-avail\fP
Charge \('egalement le fichier \fIavailable\fP \(`a l'utilisation des commandes
\fB\-\-show\fP et \fB\-\-list\fP, ce qui d\('esormais revient \(`a n'interroger que le
fichier d'\('etat (depuis dpkg\ 1.16.2).
.TP 
\fB\-\-no\-pager\fP
D\('esactive l'utilisation d'un afficheur pour montrer les informations (depuis
dpkg\ 1.19.2).
.TP 
\fB\-f\fP, \fB\-\-showformat=\fP\fIformat\fP
This option is used to specify the format of the output \fB\-\-show\fP will
produce (short option since dpkg 1.13.1).  The format is a string that will
be output for each package listed.

Dans la cha\(^ine, \(Fo\ \fB\e\fP\ \(Fc pr\('efixe des caract\(`eres de contr\(^ole\ :

.nf
    \fB\en\fP  nouvelle ligne
    \fB\er\fP  retour chariot
    \fB\et\fP  tabulation
.fi

\(lq\fB\e\fP\(rq avant n'importe quel caract\(`ere supprime la signification sp\('ecial du
caract\(`ere qui suit. C'est utile pour les caract\(`eres \(Fo\ \fB\e\fP\ \(Fc et \(Fo\ \fB$\fP\ \(Fc.

L'information relative \(`a un paquet peut \(^etre indiqu\('ee en ins\('erant des appels
de variables sp\('ecifiant des champs du paquet avec la syntaxe suivante\ :
\(Fo\ \fB${\fP\fIchamp\fP[\fB;\fP\fIlargeur\fP]\fB}\fP\ \(Fc. Les champs sont align\('es \(`a droite, \(`a
moins que la largeur ne soit n\('egative, auquel cas ils sont align\('es \(`a
gauche. Les champs suivants sont reconnus, mais pas n\('ecessairement
disponibles dans le fichier d'\('etat (seuls les champs internes ou les champs
conserv\('es avec le paquet binaire le sont)\ :

.nf
    \fBArchitecture\fP
    \fBBugs\fP
    \fBConffiles\fP (interne)
    \fBConfig\-Version\fP (interne)
    \fBConflicts\fP
    \fBBreaks\fP
    \fBDepends\fP
    \fBDescription\fP
    \fBEnhances\fP
    \fBEssential\fP
    \fBFilename\fP (interne, li\('e au programme frontal)
    \fBHomepage\fP
    \fBInstalled\-Size\fP
    \fBMD5sum\fP (interne, li\('e au programme frontal)
    \fBMSDOS\-Filename\fP (interne, li\('e au programme frontal)
    \fBMaintainer\fP
    \fBOrigin\fP
    \fBPackage\fP
    \fBPre\-Depends\fP
    \fBPriority\fP
    \fBProvides\fP
    \fBRecommends\fP
    \fBReplaces\fP
    \fBRevision\fP (obsol\(`ete)
    \fBSection\fP
    \fBSize\fP (interne, li\('e au programme frontal)
    \fBSource\fP
    \fBStatus\fP (interne)
    \fBSuggests\fP
    \fBTag\fP (en g\('en\('eral pas dans le .deb mais dans les fichiers
            Packages des d\('ep\(^ots)
    \fBTriggers\-Awaited\fP (interne)
    \fBTriggers\-Pending\fP (interne)
    \fBVersion\fP
.fi

Les champs suivants sont virtuels, cr\('e\('es par \fBdpkg\-query\fP \(`a partir des
valeurs d'autres champs (veuillez noter qu'ils utilisent des noms qui ne
sont pas valables comme noms de champs dans le fichiers de contr\(^ole)\ :
.RS
.TP 
\fBbinary:Package\fP
Contient le nom du paquet binaire avec \('eventuellement le type d'architecture
tel que \(Fo\ libc6:amd64\ \(Fc (depuis dpkg\ 1.16.2). Le type d'architecture sera
pr\('esent pour rendre le nom de paquet non ambigu, par exemple si le champ
\fBMulti\-Arch\fP du paquet a la valeur \fBsame\fP ou si le paquet appartient \(`a une
architecture diff\('erente.
.TP 
\fBbinary:Synopsis\fP
Il contient la description courte du paquet (depuis dpkg\ 1.19.1).
.TP 
\fBbinary:Summary\fP
C'est un alias de \fBbinary:Synopsis\fP (depuis dpkg\ 1.16.2).
.TP 
\fBdb:Status\-Abbrev\fP
Il contient l'\('etat du paquet dans sa forme abr\('eg\('ee en trois caract\(`eres,
comme \(Fo\ ii\ \ \(Fc ou \(Fo\ iHR\ \(Fc (depuis dpkg\ 1.16.2). Voir la description de la
commande \fB\-\-list\fP pour plus de d\('etails.
.TP 
\fBdb:Status\-Want\fP
Il contient l'\('etat d\('esir\('e du paquet, extrait du champ Status (depuis
dpkg\ 1.17.11).
.TP 
\fBdb:Status\-Status\fP
Il contient l'expression d'\('etat du paquet, extrait du champ Status (depuis
dpkg\ 1.17.11).
.TP 
\fBdb:Status\-Eflag\fP
Il contient le drapeau d'erreur d'\('etat du paquet, extrait du champ Status
(depuis dpkg\ 1.17.11).
.TP 
\fBdb\-fsys:Files\fP
It contains the list of the package filesystem entries separated by newlines
(since dpkg 1.19.3).
.TP 
\fBdb\-fsys:Last\-Modified\fP
It contains the timestamp in seconds of the last time the package filesystem
entries were modified (since dpkg 1.19.3).
.TP 
\fBsource:Package\fP
Il contient le nom du paquet source de ce paquet binaire (depuis
dpkg\ 1.16.2).
.TP 
\fBsource:Version\fP
Il contient la version du paquet source de ce paquet binaire (depuis
dpkg\ 1.16.2).
.TP 
\fBsource:Upstream\-Version\fP
Il contient la version du paquet source amont de ce paquet binaire (depuis
dpkg\ 1.18.16).
.RE
.IP
Le format par d\('efaut est le suivant\ :
\(Fo\ \fB${binary:Package}\et${Version}\en\fP\ \(Fc. Tous les autres champs du fichier
d'\('etat, par exemple des champs d\('efinis par l'utilisateur, peuvent \(^etre
demand\('es. Ils seront affich\('es mais sans aucune mise en forme et aucune
conversion ou v\('erification n'est faite. Pour obtenir le nom du responsable
de \fBdpkg\fP et la version install\('ee, ex\('ecutez par exemple\ :

.nf
  \fBdpkg\-query \-W \-f='${binary:Package} ${Version}\et${Maintainer}\en' dpkg\fP
.fi
.
.SH "CODE DE SORTIE"
.TP 
\fB0\fP
La requ\(^ete demand\('ee s'est correctement d\('eroul\('ee.
.TP 
\fB1\fP
La requ\(^ete demand\('ee a \('echou\('e soit totalement, soit partiellement, du fait
qu'aucun fichier ni paquet n'a \('et\('e trouv\('e (sauf pour \fB\-\-control\-path\fP,
\fB\-\-control\-list\fP et \fB\-\-control\-show\fP o\(`u de telles erreurs sont fatales).
.TP 
\fB2\fP
Erreur fatale ou irr\('ecup\('erable due \(`a l'utilisation d'une ligne de commande
non valable, ou interactions avec le syst\(`eme, telles que des acc\(`es \(`a la base
de donn\('ees, des allocations de m\('emoire,\ etc.
.
.SH ENVIRONNEMENT
.SS "Environnement externe"
.TP 
\fBSHELL\fP
D\('efinit le programme \(`a ex\('ecuter lors du lancement d'une commande avec un
shell (depuis dpkg\ 1.19.2).
.TP 
\fBPAGER\fP
.TQ
\fBDPKG_PAGER\fP
D\('efinit la commande d'afficheur \(`a utiliser (depuis dpkg\ 1.19.1) qui sera
ex\('ecut\('ee avec \(Fo\ \fB$SHELL \-c\fP\ \(Fc. Si \fBSHELL\fP n'est pas d\('efini, \(Fo\ \fBsh\fP\ \(Fc sera
utilis\('e \(`a la place. \fBDPKG_PAGER\fP remplace la variable d'environnement
\fBPAGER\fP (depuis dpkg\ 1.19.2).
.TP 
\fBDPKG_ADMINDIR\fP
Si cette variable est positionn\('ee et que l'option \fB\-\-admindir\fP n'est pas
pr\('ecis\('ee, ce r\('epertoire sera utilis\('e comme r\('epertoire de donn\('ees pour
\fBdpkg\fP.
.TP 
\fBDPKG_COLORS\fP
D\('efinit le mode de couleur (depuis dpkg\ 1.18.5). Les valeurs actuellement
accept\('ees sont \fBauto\fP (par d\('efaut), \fBalways\fP et \fBnever\fP.
.SS "Environnement interne"
.TP 
\fBLESS\fP
D\('efinie \(`a \(Fo\ \fB\-FRSXMQ\fP\ \(Fc par \fBdpkg\-query\fP, si elle n'est pas d\('ej\(`a fix\('ee,
lors du lancement d'un afficheur (depuis dpkg\ 1.19.2). Pour modifier le
comportement par d\('efaut, cette variable peut \(^etre r\('egl\('ee \(`a une autre valeur
y compris une cha\(^ine vide, ou les variables \fBPAGER\fP ou \fBDPKG_PAGER\fP
peuvent \(^etre fix\('ees pour d\('esactiver des options sp\('ecifiques avec \(Fo\ \fB\-+\fP\ \(Fc,
par exemple \fBDPKG_PAGER="less \-+F"\fP.
.
.SH "VOIR AUSSI"
\fBdpkg\fP(1).

.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas Fran\(,cois, 2006.
Veuillez signaler toute erreur \(`a <debian\-l10n\-french@lists.debian.org>.
