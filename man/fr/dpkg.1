.\" dpkg manual page - dpkg(1)
.\"
.\" Copyright © 1996 Juho Vuori <javuori@cc.helsinki.fi>
.\" Copyright © 1999 Jim Van Zandt <jrv@vanzandt.mv.com>
.\" Copyright © 1999-2003 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright © 2000-2003 Adam Heath <doogie@debian.org>
.\" Copyright © 2002 Josip Rodin
.\" Copyright © 2004-2005 Scott James Remnant <keybuk@debian.org>
.\" Copyright © 2006-2016 Guillem Jover <guillem@debian.org>
.\" Copyright © 2007-2008 Ian Jackson <ijackson@chiark.greenend.org.uk>
.\" Copyright © 2008-2011 Rapha\(:el Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg 1 2019-03-25 1.19.6 "suite dpkg"
.nh
.SH NOM
dpkg \- Gestionnaire de paquet pour Debian
.
.SH SYNOPSIS
\fBdpkg\fP [\fIoption\fP...] \fIaction\fP
.
.SH AVERTISSEMENT
Ce manuel est destin\('e aux utilisateurs qui souhaitent aller au\-del\(`a de la
commande \fBdpkg \-\-help\fP pour la compr\('ehension des options de la ligne de
commande et des \('etats des paquets.

Les responsables de paquet qui veulent comprendre comment \fBdpkg\fP installe
leur paquet \fIne doivent pas\fP l'utiliser. Les descriptions concernant
l'installation ou la d\('esinstallation des paquets sont tr\(`es insuffisantes.
.
.SH DESCRIPTION
\fBdpkg\fP est un outil pour l'installation, la cr\('eation, la suppression et la
gestion des paquets Debian. \fBaptitude\fP(1) est la principale interface \(`a
\fBdpkg\fP et la plus agr\('eable pour l'utilisateur. \fBdpkg\fP lui\-m\(^eme est
enti\(`erement contr\(^ol\('e par des param\(`etres sur la ligne de commande. Une
commande comporte exactement une action et z\('ero ou plusieurs options. Le
param\(`etre \(Fo\ action\ \(Fc dit ce que \fBdpkg\fP doit faire et les options modifient
l'action d'une mani\(`ere ou d'une autre.

\fBdpkg\fP peut \('egalement \(^etre utilis\('e comme interface pour \fBdpkg\-deb\fP(1) et
\fBdpkg\-query\fP(1). La liste des actions g\('er\('ees est indiqu\('ee dans la section
\fBACTIONS\fP. Si cette section est pr\('esente, \fBdpkg\fP n'ex\('ecute que \fBdpkg\-deb\fP
ou \fBdpkg\-query\fP avec les param\(`etres qui lui sont pass\('es, mais aucune action
sp\('ecifique ne leur est communiqu\('ee. Pour utiliser cela, il est n\('ecessaire
d'appeler le programme directement.
.
.SH "RENSEIGNEMENTS SUR LES PAQUETS"
\fBdpkg\fP conserve des renseignements utiles sur les paquets
disponibles. Cette information est divis\('ee en trois classes\ : les \('etats, les
\('etats de la s\('election et les drapeaux. La modification de ces valeurs est
principalement d\('evolue \(`a \fBdselect\fP.
.SS "\('Etats du paquet\ :"
.TP 
\fBnot\-installed\fP
Le paquet n'est pas install\('e sur le syst\(`eme.
.TP 
\fBconfig\-files\fP
Seuls les fichiers de configuration du paquet existent sur le syst\(`eme.
.TP 
\fBhalf\-installed\fP
L'installation du paquet a commenc\('e mais, pour une raison quelconque, ne
s'est pas termin\('ee.
.TP 
\fBunpacked\fP
Le paquet est d\('epaquet\('e mais n'est pas configur\('e.
.TP 
\fBhalf\-configured\fP
Le paquet est d\('epaquet\('e et la configuration a commenc\('e mais, pour une
quelconque raison, ne s'est pas termin\('ee.
.TP 
\fBtriggers\-awaited\fP
Le paquet attend l'ex\('ecution d'une action diff\('er\('ee qui est \(`a la charge d'un
autre paquet.
.TP 
\fBtriggers\-pending\fP
Une action diff\('er\('ee de ce paquet a \('et\('e activ\('ee, il reste \(`a l'ex\('ecuter.
.TP 
\fBinstalled\fP
Le paquet est correctement d\('epaquet\('e et configur\('e.
.SS "\('Etats de s\('election des paquets"
.TP 
\fBinstall\fP
Le paquet est s\('electionn\('e pour \(^etre install\('e.
.TP 
\fBhold\fP
\fBdpkg\fP laisse de c\(^ot\('e un paquet marqu\('e \fBhold\fP, \(`a moins qu'il ne soit lanc\('e
avec l'option de for\(,cage \fB\-\-force\-hold\fP.
.TP 
\fBdeinstall\fP
Le paquet est s\('electionn\('e pour \(^etre d\('esinstall\('e (c'est\-\(`a\-dire qu'on veut
supprimer tous les fichiers \(`a l'exception des fichiers de configuration).
.TP 
\fBpurge\fP
Le paquet est s\('electionn\('e pour \(^etre purg\('e (c'est\-\(`a\-dire qu'on veut tout
supprimer dans les r\('epertoires du syst\(`eme, m\(^eme les fichiers de
configuration).
.TP 
\fBunknown\fP
The package selection is unknown.  A package that is also in a
\fBnot\-installed\fP state, and with an \fBok\fP flag will be forgotten in the next
database store.
.SS "Drapeaux du paquet\ :"
.TP 
\fBok\fP
Un paquet marqu\('e \fBok\fP est dans un \('etat connu, mais pourrait n\('ecessiter un
traitement suppl\('ementaire.
.TP 
\fBreinstreq\fP
Un paquet marqu\('e \fBreinstreq\fP est d\('efectueux et demande une
r\('einstallation. \fBdpkg\fP ne peut supprimer ces paquets, \(`a moins qu'il ne soit
lanc\('e avec l'option de for\(,cage \fB\-\-force\-remove\-reinstreq\fP.
.
.SH ACTIONS
.TP 
\fB\-i\fP, \fB\-\-install\fP \fIfichier\-paquet\fP...
Installe le paquet. Si l'option \fB\-\-recursive\fP ou \fB\-R\fP est utilis\('ee,
\fIfichier\-paquet\fP doit alors \(^etre un r\('epertoire.

L'installation comporte les \('etapes suivantes\ :
.br

\fB1.\fP Extraction des fichiers de contr\(^ole du nouveau paquet.
.br

\fB2.\fP Quand une ancienne version du m\(^eme paquet est d\('ej\(`a install\('ee,
ex\('ecution du script \fIprerm\fP de l'ancien paquet.
.br

\fB3.\fP Lancement du script \fIpreinst\fP, s'il est fourni par le paquet.
.br

\fB4.\fP D\('epaquetage des nouveaux fichiers et, en m\(^eme temps, sauvegarde des
anciens de mani\(`ere \(`a pouvoir les restaurer si quelque chose tourne mal.
.br

\fB5.\fP Quand une ancienne version du m\(^eme paquet est d\('ej\(`a install\('ee,
ex\('ecution du script \fIpostrm\fP de l'ancien paquet. Il faut remarquer que ce
script est ex\('ecut\('e apr\(`es le script \fIpreinst\fP du nouveau paquet, parce que
les nouveaux fichiers sont \('ecrits dans le m\(^eme temps que les anciens sont
supprim\('es.
.br

\fB6.\fP Configuration du paquet. Voyez l'action \fB\-\-configure\fP pour savoir
comment cela se passe.
.TP 
\fB\-\-unpack \fP\fIfichier\-paquet\fP...
D\('epaqu\(`ete le paquet mais ne configure rien. Si l'option \fB\-\-recursive\fP ou
\fB\-R\fP est utilis\('ee, \fIfichier\-paquet\fP doit alors indiquer un r\('epertoire.
.TP 
\fB\-\-configure \fP\fIpaquet\fP...|\fB\-a\fP|\fB\-\-pending\fP
Configuration d'un paquet d\('epaquet\('e mais non encore configur\('e. Si l'option
\fB\-a\fP ou \fB\-\-pending\fP est utilis\('ee au lieu de \fIpaquet\fP, tous les paquets
d\('epaquet\('es mais non configur\('es sont configur\('es.

Pour reconfigurer un paquet qui l'a d\('ej\(`a \('et\('e, vous devriez plut\(^ot utiliser
la commande \fBdpkg\-reconfigure\fP(8).

La configuration comporte les \('etapes suivantes\ :
.br

\fB1.\fP D\('epaquetage des fichiers de configuration, et dans le m\(^eme temps
sauvegarde des anciens fichiers de configuration, de mani\(`ere \(`a pouvoir les
restaurer si quelque chose se passe mal.
.br

\fB2.\fP Ex\('ecution du script \fBpostinst\fP, s'il est fourni par le paquet.
.TP 
\fB\-\-triggers\-only\fP \fIpaquet\fP ...|\fB\-a\fP | \fB\-\-pending\fP
N'ex\('ecute que les actions diff\('er\('ees (depuis dpkg\ 1.14.17). Toutes les
actions diff\('er\('ees en attente seront trait\('ees. Si des noms de paquets sont
fournis, les actions diff\('er\('ees de ces paquets seront trait\('ees, une fois
chacune lorsque n\('ecessaire. L'utilisation de cette option peut laisser des
paquets dans les \('etats incorrects de \fBtriggers\-awaited\fP et de
\fBtriggers\-pending\fP. Cela peut \(^etre corrig\('e plus tard en ex\('ecutant\ : \fBdpkg
\-\-configure \-\-pending\fP.
.TP 
\fB\-r\fP, \fB\-\-remove\fP \fIpaquet\fP...|\fB\-a\fP|\fB\-\-pending\fP
Remove an installed package.  This removes everything except conffiles and
other data cleaned up by the \fIpostrm\fP script, which may avoid having to
reconfigure the package if it is reinstalled later (conffiles are
configuration files that are listed in the \fIDEBIAN/conffiles\fP control
file).  If there is no \fIDEBIAN/conffiles\fP control file nor \fIDEBIAN/postrm\fP
script, this command is equivalent to calling \fB\-\-purge\fP.  If \fB\-a\fP or
\fB\-\-pending\fP is given instead of a package name, then all packages unpacked,
but marked to be removed in file \fI/var/lib/dpkg/status\fP, are removed.

La suppression d'un paquet comporte les \('etapes suivantes\ :
.br

\fB1.\fP Lancement du script \fIprerm\fP
.br

\fB2.\fP Suppression des fichiers install\('es
.br

\fB3.\fP Lancement du script \fIpostrm\fP
.br

.TP 
\fB\-P\fP, \fB\-\-purge\fP \fIpaquet\fP...|\fB\-a\fP|\fB\-\-pending\fP
Purge an installed or already removed package. This removes everything,
including conffiles, and anything else cleaned up from \fIpostrm\fP.  If \fB\-a\fP
or \fB\-\-pending\fP is given instead of a package name, then all packages
unpacked or removed, but marked to be purged in file \fI/var/lib/dpkg/status\fP,
are purged.

Note\ : certains fichiers de configuration peuvent \(^etre inconnus de \fBdpkg\fP
car ils sont cr\('e\('es et g\('er\('es s\('epar\('ement par le biais de scripts de
configuration. En ce cas, \fBdpkg\fP ne les supprimera pas lui\-m\(^eme et le
script \fIpostrm\fP du paquet devra s'en charger durant l'op\('eration de
purge. Cela ne s'applique bien entendu qu'aux fichiers situ\('es dans les
r\('epertoires syst\(`emes et non aux fichiers de configuration cr\('e\('es dans les
r\('epertoires \(Fo\ home\ \(Fc des utilisateurs.

La suppression d'un paquet comporte les \('etapes suivantes\ :
.br

\fB1.\fP Supprime le paquet s'il n'est pas d\('ej\(`a supprim\('e. Voir \fB\-\-remove\fP pour
plus de d\('etails sur la fa\(,con dont cela est fait.
.br

\fB2.\fP Ex\('ecuter le script \fIpostrm\fP.
.br
.TP 
\fB\-V\fP, \fB\-\-verify\fP \fInom\-du\-paquet\fP...
V\('erifie l'int\('egrit\('e du \fInom\-du\-paquet\fP ou de tous les paquets, si omis, en
comparant l'information des fichiers install\('es par un paquet avec
l'information des m\('etadonn\('ees des fichiers stock\('ee dans la base de donn\('ees
de \fBdpkg\fP (depuis dpkg\ 1.17.2). L'origine de l'information des m\('etadonn\('ees
des fichiers dans la base de donn\('ees, ce sont les paquets binaires
eux\-m\(^emes. Ces m\('etadonn\('ees sont collect\('ees au moment du d\('epaquetage des
paquets durant le processus d'installation.

Actuellement la seule v\('erification fonctionnelle effectu\('ee est une
comparaison des sommes de contr\(^ole MD5 du contenu des fichier par rapport
aux valeurs stock\('ees dans la base de donn\('ees des fichiers. La v\('erification
n'a lieu que si la base de donn\('ees contient les informations
n\('ecessaires. Pour v\('erifier si des m\('etadonn\('ees manquent dans la base de
donn\('ees, la commande \fB\-\-audit\fP peut \(^etre employ\('ee.

On peut choisir le format de sortie avec l'option \fB\-\-verify\-format\fP, par
d\('efaut c'est le format \fBrpm\fP, mais cela pourrait changer dans le futur, et
selon le format que les programmes analysant cette sortie de commande
pourraient explicitement attendre.
.TP 
\fB\-C\fP, \fB\-\-audit\fP \fInom\-du\-paquet\fP...
Effectue une v\('erification du bon \('etat et de consistance de la base de
donn\('ees sur le \fInom\-du\-paquet\fP ou sur tous les paquets si omis
(v\('erification par paquet depuis dpkg\ 1.17.10). Par exemple, recherche les
paquets qui n'ont \('et\('e que partiellement install\('es sur le syst\(`eme ou qui ont
des donn\('ees de contr\(^ole ou des fichiers manquants, incorrects ou
obsol\(`etes. \fBdpkg\fP sugg\(`ere une mani\(`ere de les corriger.
.TP 
\fB\-\-update\-avail\fP [\fIfichier\-Paquets\fP]
.TQ
\fB\-\-merge\-avail\fP [\fIfichier\-Paquets\fP]
Met \(`a jour l'information de \fBdpkg\fP et de \fBdselect\fP sur les paquets
disponibles. L'action \fB\-\-merge\-avail\fP combine les informations anciennes
avec celles qui proviennent du fichier \fIfichier\-Packages\fP. L'action
\fB\-\-update\-avail\fP remplace les informations anciennes par celles qui
proviennent du fichier \fIfichier\-Packages\fP. Le fichier \fIfichier\-Packages\fP
distribu\('e avec Debian est appel\('e simplement \(Fo\ \fIPackages\fP\ \(Fc. Si le param\(`etre
\fIfichier\-Packages\fP est manquant ou est nomm\('e \(Fo\ \fB\-\fP\ \(Fc, alors, il sera lu \(`a
partir de l'entr\('ee standard (depuis dpkg\ 1.17.7). \fBdpkg\fP garde son propre
enregistrement des paquets disponibles dans \fI/var/lib/dpkg/available\fP.

Une simple commande permettant de r\('ecup\('erer et mettre \(`a jour le fichier
\fIavailable\fP est \fBdselect update\fP. Veuillez noter que ce fichier est \(`a peu
pr\(`es inutile si vous n'utilisez pas \fBdselect\fP mais une interface bas\('ee sur
APT. APT contient en effet son propre m\('ecanisme pour suivre les paquets
disponibles.
.TP 
\fB\-A\fP, \fB\-\-record\-avail\fP \fIfichier\-paquet\fP...
Met \(`a jour l'information de \fBdpkg\fP et de \fBdselect\fP sur les paquets
disponibles avec les informations qui proviennent de \fIfichier\-paquet\fP. Si
l'option \fB\-\-recursive\fP ou \fB\-R\fP est utilis\('ee, \fIfichier\-paquet\fP doit
indiquer un r\('epertoire.
.TP 
\fB\-\-forget\-old\-unavail\fP
D\('esormais \fBobsol\(`ete\fP et sans effet car \fBdpkg\fP oublie automatiquement les
paquets d\('esinstall\('es qui ne sont pas disponibles depuis (dpkg\ 1.15.4), mais
seulement ceux qui ne contiennent pas d'informations pour l'utilisateur
comme les s\('elections de paquets.
.TP 
\fB\-\-clear\-avail\fP
Efface les renseignements existants sur les paquets disponibles.
.TP 
\fB\-\-get\-selections\fP [\fImotif\-de\-nom\-de\-paquet\fP...]
Obtient la liste des s\('elections de paquets et l'envoie sur la sortie
standard. Sans un motif, les paquets non install\('es (c'est\-\(`a\-dire ceux qui
ont \('et\('e pr\('ec\('edemment purg\('es) ne seront pas affich\('es.
.TP 
\fB\-\-set\-selections\fP
Modifie la liste des s\('elections des paquets en lisant un fichier sur
l'entr\('ee standard. Le format de ce fichier doit \(^etre de la forme \(Fo\ \fIpaquet\fP
\fI\('etat\fP\ \(Fc, o\(`u \('etat vaut \fBinstall\fP, \fBhold\fP, \fBdeinstall\fP ou \fBpurge\fP. Les
lignes vides ou les lignes de commentaires d\('ebutant par \(Fo\ \fB#\fP\ \(Fc sont
autoris\('ees.

Le fichier \fIavailable\fP doit \(^etre \(`a jour pour que cette commande soit utile,
autrement des paquets inconnus seront ignor\('es avec un
avertissement. Veuillez consultez les commandes \fB\-\-update\-avail\fP et
\fB\-\-merge\-avail\fP pour plus d'informations.
.TP 
\fB\-\-clear\-selections\fP
Met l'\('etat de chaque paquet non essentiel \(`a \(Fo\ deinstall\ \(Fc (depuis
dpkg\ 1.13.18). Il faut utiliser cette option juste avant
\fB\-\-set\-selections\fP, pour d\('esinstaller les paquets qui ne sont pas affich\('es
par \fB\-\-set\-selections\fP.
.TP 
\fB\-\-yet\-to\-unpack\fP
Recherche les paquets qui ont \('et\('e s\('electionn\('es pour l'installation, mais
qui, pour une raison quelconque, ne sont pas encore install\('es.
.IP
Note: This command makes use of both the available file and the package
selections.
.TP 
\fB\-\-predep\-package\fP
Affiche un fichier unique qui est la cible d'une ou plusieurs
pr\('e\-d\('ependances correspondantes et n'a lui\-m\(^eme pas de pr\('e\-d\('ependances
insatisfaites.
.IP
Si un tel paquet est pr\('esent, l'affiche comme entr\('ee du fichier Packages, et
il peut \(^etre manipul\('e comme il se doit.
.IP
Note: This command makes use of both the available file and the package
selections.
.IP
Renvoie \fB0\fP si un paquet est affich\('e, \fB1\fP quand il n'y a pas de paquet
ad\('equat disponible et \fB2\fP en cas d'erreur.
.TP 
\fB\-\-add\-architecture \fP\fIarchitecture\fP
Ajoute \fIarchitecture\fP \(`a la liste d'architectures pour lesquelles les
paquets peuvent \(^etre install\('es sans utiliser \fB\-\-force\-architecture\fP (depuis
dpkg\ 1.16.2). L'architecture pour laquelle \fBdpkg\fP est compil\('e (c'est\-\(`a\-dire
ce qu'affiche \fB\-\-print\-architecture\fP) est toujours incluse dans cette
liste.
.TP 
\fB\-\-remove\-architecture \fP\fIarchitecture\fP
Retire \fIarchitecture\fP de la liste d'architectures pour lesquelles les
paquets peuvent \(^etre install\('es sans utiliser \fB\-\-force\-architecture\fP (depuis
dpkg\ 1.16.2). Si cette architecture est actuellement utilis\('ee dans la base
de donn\('ees, cette op\('eration sera rejet\('ee, sauf si \fB\-\-force\-architecture\fP
est utilis\('e. L'architecture pour laquelle \fBdpkg\fP est compil\('e (c'est\-\(`a\-dire
ce qu'affiche \fB\-\-print\-architecture\fP) ne peut jamais \(^etre retir\('ee de cette
liste.
.TP 
\fB\-\-print\-architecture\fP
Affiche l'architecture des paquets install\('es (par exemple, \(Fo\ i386\ \(Fc).
.TP 
\fB\-\-print\-foreign\-architectures\fP
Affiche la liste, \(`a raison d'une par ligne, des architectures
suppl\('ementaires pour lesquelles \fBdpkg\fP est autoris\('e \(`a installer des paquets
(depuis dpkg\ 1.16.2).
.TP 
\fB\-\-assert=\fP\fIfonction\fP
D\('eclare que \fBdpkg\fP prend en charge la fonction requise. Renvoie \fB0\fP si la
fonction est compl\(`etement prise en charge, \fB1\fP si la fonction est reconnue
mais que \fBdpkg\fP ne peut pas encore fournir sa prise en charge, et \fB2\fP si
la fonction est inconnue. La liste actuelle des fonctions d\('eclarables est\ :
.RS
.TP 
\fBsupport\-predepends\fP
G\(`ere le champ \fBPre\-Depends\fP (depuis\ dpkg\ 1.1.0).
.TP 
\fBworking\-epoch\fP
G\(`ere les \(Fo\ epochs\ \(Fc dans les cha\(^ines de version (depuis dpkg\ 1.4.0.7).
.TP 
\fBlongs\-noms\-de\-fichier\fP
G\(`ere les longs noms de fichier dans les archives \fBdeb\fP(5) (depuis
dpkg\ 1.4.1.17).
.TP 
\fBmulti\-conrep\fP
G\(`ere plusieurs \fBConflicts\fP et \fBReplaces\fP (depuis dpkg\ 1.4.1.19).
.TP 
\fBmulti\-arch\fP
G\(`ere les champs et les s\('emantiques multi\-architectures (depuis dpkg\ 1.16.2).
.TP 
\fBversioned\-provides\fP
G\(`ere les \fBProvides\fP versionn\('es (depuis dpkg\ 1.17.11).
.RE
.TP 
\fB\-\-validate\-\fP\fIcha\(^ine\-quelque\-chose\fP
Valide que la \fIcha\(^ine\fP \fIquelque\-chose\fP a une syntaxe correcte (depuis
dpkg\ 1.18.16). Renvoie \fB0\fP si la \fIcha\(^ine\fP est valable, \fB1\fP si la
\fIcha\(^ine\fP n'est pas valable mais pourrait \(^etre accept\('e dans des contextes
tol\('erants, et \fB2\fP si la cha\(^ine n'est pas valable. La liste actuelle des
\fIquelque\-chose\fPs acceptables est\ :
.RS
.TP 
\fBpkgname\fP
Valide le nom de paquet donn\('e (depuis dpkg\ 1.18.16).
.TP 
\fBtrigname\fP
Valide le nom d'action diff\('er\('ee donn\('e (depuis dpkg\ 1.18.16).
.TP 
\fBarchname\fP
Valide le nom d'architecture donn\('e (depuis dpkg\ 1.18.16).
.TP 
\fBversion\fP
Valide la version donn\('ee (depuis dpkg\ 1.18.16).
.RE
.TP 
\fB\-\-compare\-versions \fP\fIver1 op ver2\fP
.\" .TP
.\" .B \-\-command\-fd \fIn\fP
.\" Accept a series of commands on input file descriptor \fIn\fP. Note:
.\" additional options set on the command line, and through this file descriptor,
.\" are not reset for subsequent commands executed during the same run.
Compare des num\('eros de version, o\(`u \fIop\fP est un op\('erateur binaire. \fBdpkg\fP
renvoie \(Fo\ true\ \(Fc (\fB0\fP) si la condition sp\('ecifi\('ee est v\('erifi\('ee, et renvoie
\(Fo\ false\ \(Fc (\fB1\fP) dans le cas contraire. Il y a deux groupes d'op\('erateurs\ ;
ils diff\(`erent par leur fa\(,con de traiter l'absence de \fIver1\fP ou de
\fIver2\fP. Pour les op\('erateurs suivants, \fBlt le eq ne ge gt\fP, l'absence d'une
version est consid\('er\('ee comme inf\('erieure \(`a toute version\ ; pour les
op\('erateurs \fBlt\-nl le\-nl ge\-nl gt\-nl\fP, l'absence d'une version est
consid\('er\('ee comme sup\('erieure \(`a toute version. Les op\('erateurs \fB<
<< <= = >= >> >\fP ne sont fournis que pour la
compatibilit\('e avec la syntaxe du fichier de contr\(^ole. Les op\('erateurs
\fB<\fP et \fB>\fP sont obsol\(`etes et ne devraient \fBpas\fP \(^etre utilis\('es du
fait d'une s\('emantique pas claire. Comme illustration, \fB0.1< 0.1\fP est
\('evalu\('ee \(`a vrai.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Affiche un court message d'aide.
.TP 
\fB\-\-force\-help\fP
Donne des renseignements sur les options \fB\-\-force\-\fP\fIquelque\-chose\fP.
.TP 
\fB\-Dh\fP, \fB\-\-debug=help\fP
Donne des renseignements sur les options de d\('ebogage.
.TP 
\fB\-\-version\fP
Affiche la version de \fBdpkg\fP.
.TP 
\fBdpkg\-deb actions\fP
Voyez \fBdpkg\-deb\fP(1) pour des renseignements suppl\('ementaires sur les actions
suivantes.

.nf
\fB\-b\fP, \fB\-\-build\fP \fIr\('epertoire\fP [\fIarchive\fP|\fIr\('epertoire\fP]
    Construit un paquet deb.
\fB\-c\fP, \fB\-\-contents\fP \fIarchive\fP
    Liste le contenu d'un paquet deb.
\fB\-e\fP, \fB\-\-control\fP \fIarchive\fP [\fIr\('epertoire\fP]
    Extrait les informations de contr\(^ole d'un paquet.
\fB\-x\fP, \fB\-\-extract\fP \fIarchive r\('epertoire\fP
    Extrait et affiche les fichiers contenus dans un paquet.
\fB\-X\fP, \fB\-\-vextract\fP \fIarchive r\('epertoire\fP
    Extrait et affiche les noms de fichiers contenus dans un
    paquet.
\fB\-f\fP, \fB\-\-field\fP \fIarchive\fP [\fIchamp de contr\(^ole\fP] ...
    Affiche le(s) champ(s) de contr\(^ole d'un paquet.
\fB\-\-ctrl\-tarfile\fP \fIarchive\fP
    Produit le contenu du fichier tar de contr\(^ole d'un paquet Debian.
\fB\-\-fsys\-tarfile\fP \fIarchive\fP
    Produit le contenu du fichier tar du syst\(`eme de fichiers d'un
    paquet Debian.
\fB\-I\fP, \fB\-\-info\fP \fIarchive\fP [\fIfichier de contr\(^ole\fP]
    Affiche des renseignements sur un paquet.
.fi

.TP 
\fBdpkg\-query actions\fP
Voyez \fBdpkg\-query\fP(1) pour davantage d'explications sur les actions
suivantes.

.nf

\fB\-l\fP, \fB\-\-list\fP \fImotif\-du\-nom\-de\-paquet\fP ...
    Affiche la liste des paquets qui correspondent au motif.
\fB\-s\fP, \fB\-\-status\fP \fInom\-du\-paquet\fP ...
    Donne l'\('etat du paquet indiqu\('e.
\fB\-L\fP, \fB\-\-listfiles\fP \fInom\-du\-paquet\fP ...
    Affiche la liste des fichiers install\('es qui appartiennent
    \(`a \fIpaquet\fP.
\fB\-S\fP, \fB\-\-search\fP \fImotif\-du\-fichier\-\(`a\-rechercher\fP ...
    Recherche un fichier dans les paquets install\('es.
\fB\-p\fP, \fB\-\-print\-avail\fP \fInom\-du\-paquet\fP
    Affiche les informations trouv\('ees dans \fI/var/lib/dpkg/available\fP
    \(`a propos de \fIpaquet\fP. Les utilisateurs des interfaces \(`a APT
    devraient plut\(^ot utiliser \fBapt\-cache show\fP \fInom\-du\-paquet\fP.
.fi
.
.SH OPTIONS
On peut sp\('ecifier toutes les options \(`a la fois sur la ligne de commande,
dans le fichier de configuration de \fBdpkg\fP, \fI/etc/dpkg/dpkg.cfg\fP ou
dans les fragments de fichiers du r\('epertoire de configuration
\fI/etc/dpkg/dpkg.cfg.d/\fP (avec un nom qui respecte le motif
\(Fo\ [0\-9a\-zA\-Z_\-]*\ \(Fc). Chaque ligne de ce fichier est soit une option
(identique \(`a une option en ligne de commande mais sans tirets initiaux),
soit un commentaire, commen\(,cant par \(Fo\ \fB#\fP\ \(Fc.
.br
.TP 
\fB\-\-abort\-after=\fP\fInombre\fP
Modifie le nombre d'erreurs au del\(`a duquel \fBdpkg\fP s'arr\(^ete. Il est par
d\('efaut \('egal \(`a 50.
.TP 
\fB\-B\fP, \fB\-\-auto\-deconfigure\fP
Quand un paquet est supprim\('e, il peut arriver qu'un paquet install\('e
d\('ependait du paquet supprim\('e. En sp\('ecifiant cette option, on obtient la
d\('econfiguration automatique du paquet qui d\('ependait du paquet supprim\('e.
.TP 
\fB\-D\fP\fIoctal\fP\fB, \-\-debug=\fP\fIoctal\fP
Demande de d\('ebogage. \fIoctal\fP est form\('e en faisant un \(Fo\ ou\ \(Fc logique entre
des valeurs souhait\('ees appartenant \(`a la liste ci\-dessous (notez que ces
valeurs pourront changer dans les prochaines versions). \fB\-Dh\fP ou
\fB\-\-debug=help\fP affiche ces valeurs de d\('ebogage.

 nombre  description
    1   Informations de progression
        en g\('en\('eral utiles
    2   Appel et \('etat des scripts du responsable
   10   Affichage pour chaque fichier trait\('e
  100   De nombreux affichages pour chaque fichier
        trait\('e
   20   Affichage pour chaque fichier de configuration
  200   De nombreux affichages pour chaque fichier
        de configuration
   40   D\('ependances et conflits
  400   De nombreuses sorties pour les d\('ependances
        et les conflits
10000   Sortie sur l'activation et le traitement des actions diff\('er\('ees
20000   De nombreuses sorties sur les actions diff\('er\('ees
40000   Quantit\('e stupide de sorties sur les actions diff\('er\('ees
 1000   Beaucoup de radotage \(`a propos, par exemple, du r\('epertoire
        dpkg/info
 2000   Quantit\('e stupide de radotage
.TP 
\fB\-\-force\-\fP\fIquelque\-chose\fP
.TQ
\fB\-\-no\-force\-\fP\fIquelque\-chose\fP, \fB\-\-refuse\-\fP\fIquelque\-chose\fP
Forcer ou refuser (\fBno\-force\fP et \fBrefuse\fP signifient la m\(^eme chose) de
faire quelque chose. \fIquelque\-chose\fP est une liste d'actions s\('epar\('ees par
des virgules, d\('ecrites ci\-apr\(`es. \fB\-\-force\-help\fP affiche un message qui les
d\('ecrit. Les actions marqu\('ees d'un (*) sont forc\('ees par d\('efaut.

\fIAvertissement\ : ces options sont principalement destin\('ees aux experts. Un
usage auquel manque la pleine compr\('ehension de leurs effets peut casser le
syst\(`eme entier.\fP

\fBall\fP\ : Met en \(oeuvre (ou pas) toutes les options de for\(,cage.

\fBdowngrade\fP(*)\ : Installe un paquet, m\(^eme si une version plus r\('ecente du
paquet est d\('ej\(`a install\('ee.

\fIAvertissement\ : pour l'instant,\fP \fBdpkg\fP \fIne recherche pas les
d\('ependances lors d'un retour \(`a une version inf\('erieure d'un paquet\ ; il ne
vous pr\('eviendra pas si la version choisie casse les d\('ependances d'un autre
paquet. Cela peut avoir de s\('erieuses cons\('equences\ ;\ et si l'on revient \(`a des
versions ant\('erieures des programmes essentiels du syst\(`eme, cela peut rendre
votre syst\(`eme inutilisable. N'utiliser qu'avec pr\('ecaution.\fP

\fBconfigure\-any\fP\ : configurer aussi les paquets d\('epaquet\('es mais non
configur\('es dont d\('epend le paquet en question.

\fBhold\fP\ : traiter m\(^eme les paquets marqu\('es \(Fo\ \(`a garder\ \(Fc (\(Fo\ hold\ \(Fc).

\fBremove\-reinstreq\fP\ : supprimer un paquet, m\(^eme d\('efectueux et marqu\('e comme
demandant une r\('einstallation. Il se peut, d\(`es lors, que des \('el\('ements du
paquet restent dans le syst\(`eme et soient oubli\('es par \fBdpkg\fP.

\fBremove\-essential\fP\ : supprimer un paquet m\(^eme s'il est consid\('er\('e comme
indispensable. Les paquets \(Fo\ Essential\ \(Fc comportent les commandes Unix les
plus fondamentales et les enlever peut casser le syst\(`eme entier. Il faut
utiliser cette option avec prudence.

\fBdepends\fP\ : changer tous les probl\(`emes de d\('ependance en
avertissements. Cela affecte les champs \fBPre\-Depends\fP et \fBDepends\fP.

\fBdepends\-version\fP\ : ignorer les versions dans les questions de
d\('ependance.Cela affecte les champs \fBPre\-Depends\fP et \fBDepends\fP.

\fBbreaks\fP\ : forcer l'installation, m\(^eme si cela risque de casser un autre
paquet (depuis dpkg\ 1.14.6). Cela affecte le champ \fBBreaks\fP.

\fBconflicts\fP\ : installer un paquet, m\(^eme s'il est en conflit avec un autre
paquet. C'est dangereux car habituellement cela produit le remplacement de
certains fichiers. Cela affecte le champ \fBConflicts\fP.

\fBconfmiss\fP\ : toujours installer le fichier de configuration manquant sans
rien demander. Cette op\('eration est dangereuse, puisque les changements
apport\('es au fichier ne seront pas pr\('eserv\('es (suppression).

\fBconfnew\fP\ : quand un fichier de configuration a \('et\('e modifi\('e et que la
version dans le paquet a chang\('e, toujours installer la nouvelle version sans
rien demander, sauf si l'option \fB\-\-force\-confdef\fP est aussi pr\('esente,
auquel cas l'action par d\('efaut est choisie.

\fBconfold\fP\ : quand un fichier de configuration a \('et\('e modifi\('e et que la
version du paquet a chang\('e, garder l'ancienne version sans rien demander,
sauf si l'option \fB\-\-force\-confdef\fP est aussi pr\('esente, auquel cas l'action
par d\('efaut est choisie.

\fBconfdef\fP\ : quand un fichier de configuration a \('et\('e modifi\('e et que la
version du paquet a chang\('e, utilise toujours l'action par d\('efaut, de mani\(`ere
non interactive. Quand il n'y a pas d'action par d\('efaut, la commande
s'arr\(^ete et interroge l'utilisateur, \(`a moins que l'option \fB\-\-force\-confnew\fP
ou l'option \fB\-\-force\-confold\fP n'ait \('et\('e donn\('ee, auquel cas elle se sert de
ces options pour d\('eterminer ce qu'il faut faire.

\fBconfask\fP\ : si un fichier de configuration a \('et\('e modifi\('e, propose de le
remplacer avec la version du paquet, m\(^eme si celle\-ci n'a pas chang\('e (depuis
dpkg\ 1.15.8). Si l'une des options \fB\-\-force\-confmiss\fP, \fB\-\-force\-confnew\fP,
\fB\-\-force\-confold\fP, ou \fB\-\-force\-confdef\fP est \('egalement mentionn\('ee, elle
d\('eterminera l'action finalement utilis\('ee.

\fBoverwrite\fP\ : remplacer un fichier par un fichier d'un autre paquet.

\fBoverwrite\-dir\fP\ : remplacer un r\('epertoire d'un paquet par le fichier d'un
autre paquet.

\fBoverwrite\-diverted\fP\ : remplacer un fichier d\('etourn\('e avec une version non
d\('etourn\('ee.

\fBstatoverride\-add\fP: Overwrite an existing stat override when adding it
(since dpkg 1.19.5).

\fBstatoverride\-remove\fP: Ignore a missing stat override when removing it
(since dpkg 1.19.5).

\fBsecurity\-mac\fP(*): Use platform\-specific Mandatory Access Controls (MAC)
based security when installing files into the filesystem (since dpkg
1.19.5).  On Linux systems the implementation uses SELinux.

\fBunsafe\-io\fP\ : ne pas effectuer d'action d'entr\('ee/sortie non s\(^ure lors de la
d\('ecompression (depuis dpkg\ 1.15.8.6). Cela implique actuellement de ne pas
synchroniser le syst\(`eme de fichiers avant le renommage de fichiers, ce qui
est une cause connue de d\('egradation des performances sur certains syst\(`emes,
en g\('en\('eral ceux qui, peu fiables, ont besoin d'actions s\(^ures pour \('eviter de
terminer avec des fichiers de taille vide en cas d'interruption inopin\('ee.

\fINote\fP\ : pour ext4, le principal concern\('e, il est sugg\('er\('e de plut\(^ot
utiliser l'option de montage \fBnodelalloc\fP, qui corrigera \(`a la fois la
d\('egradation des performances et les probl\(`emes de s\('ecurit\('e des donn\('ees. Elle
permet notamment d'\('eviter de terminer avec des fichiers vides lors des
arr\(^ets brutaux pour tout logiciel qui ne synchronise pas le syst\(`eme de
fichiers avant chaque renommage.

\fIAvertissement\ : l'utilisation de cette option peut am\('eliorer la
performance mais augmente le risque de perte de donn\('ees. Elle est donc \(`a
utiliser avec pr\('ecautions.\fP

\fBscript\-chrootless\fP\ : ex\('ecuter les scripts du responsable sans cr\('eer de
\fBchroot\fP(2) dans \fBinstdir\fP m\(^eme si le paquet ne g\(`ere pas ce mode
d'op\('eration (depuis dpkg\ 1.18.5).

\fIAvertissement\ : cela peut d\('etruire le syst\(`eme h\(^ote, utilisez avec des
pr\('ecautions extr\(^emes.\fP

\fBarchitecture\fP\ : traiter m\(^eme les paquets sans architecture ou avec une
architecture incorrecte.

\fBbad\-version\fP\ : traiter m\(^eme les paquets dont la version est incorrecte
(depuis dpkg\ 1.16.1).

\fBbad\-path\fP\ : programmes importants non visibles par la variable \fBPATH\fP, ce
qui va poser des probl\(`emes.

\fBnot\-root\fP\ : tenter de (d\('es)installer m\(^eme sans \(^etre root.

\fBbad\-verify\fP\ : installer un paquet m\(^eme si la v\('erification de son
authenticit\('e a \('echou\('e.

.TP 
\fB\-\-ignore\-depends\fP=\fIpaquet\fP,...
Ne tient pas compte de la v\('erification des d\('ependances pour les paquets
sp\('ecifi\('es (en fait, la v\('erification est faite mais on ne donne rien d'autre
que des avertissements). Cela affecte les champs \fBPre\-Depends\fP, \fBDepends\fP
et \fBBreaks\fP.
.TP 
\fB\-\-no\-act\fP, \fB\-\-dry\-run\fP, \fB\-\-simulate\fP
Faire tout ce qui doit \(^etre fait, mais n'\('ecrire aucune modification. On
utilise cette option pour voir ce qui se passe sans modifier quoi que ce
soit.

Assurez\-vous de donner l'option \fB\-\-no\-act\fP avant le param\(`etre action, sinon
des r\('esultats f\(^acheux sont probables. Par exemple, la commande \fBdpkg
\-\-purge foo \-\-no\-act\fP purge d'abord le paquet foo et essaie ensuite de
purger le paquet \-\-no\-act, m\(^eme si vous comptiez qu'elle ne ferait rien du
tout.
.TP 
\fB\-R\fP, \fB\-\-recursive\fP
Traite r\('ecursivement tous les simples fichiers qui correspondent au motif
\fB*.deb\fP et qui se trouvent dans les r\('epertoires et sous\-r\('epertoires
sp\('ecifi\('es. On peut utiliser cette option avec les actions \fB\-i\fP, \fB\-A\fP,
\fB\-\-install\fP, \fB\-\-unpack\fP et \fB\-\-record\-avail\fP.
.TP 
\fB\-G\fP
Ne pas installer un paquet si une version plus r\('ecente de ce paquet est d\('ej\(`a
install\('ee. C'est un alias pour \fB\-\-refuse\-downgrade\fP.
.TP 
\fB\-\-admindir\fP=\fIr\('epertoire\fP
Fixe le r\('epertoire d'administration \(`a \fIr\('epertoire\fP. Ce r\('epertoire contient
de nombreux fichiers donnant des informations au sujet de l'\('etat des paquets
install\('es ou non,\ etc. (Le r\('epertoire par d\('efaut est \fI/var/lib/dpkg\fP)
.TP 
\fB\-\-instdir=\fP\fIr\('epertoire\fP
Fixe le r\('epertoire d'installation qui indique o\(`u les paquets vont \(^etre
install\('es. \fBinstdir\fP est aussi le nom du r\('epertoire indiqu\('e \(`a \fBchroot\fP(2)
avant que ne soient lanc\('es les scripts d'installation, ce qui signifie que
ces scripts voient \fBinstdir\fP comme r\('epertoire racine. Le r\('epertoire par
d\('efaut est \(Fo\ \fI/\fP\ \(Fc.
.TP 
\fB\-\-root=\fP\fIr\('epertoire\fP
Fixe le r\('epertoire racine \(`a \fIr\('epertoire\fP ce qui fixe le r\('epertoire
d'installation \(`a \(Fo\ \fIr\('epertoire\fP\ \(Fc et le r\('epertoire d'administration \(`a
\(Fo\ \fIr\('epertoire\fP\fB/var/lib/dpkg\fP\ \(Fc.
.TP 
\fB\-O\fP, \fB\-\-selected\-only\fP
Traiter seulement les paquets qui sont s\('electionn\('es pour l'installation. La
s\('election est r\('eellement faite par \fBdselect\fP ou par \fBdpkg\fP quand ils
manipulent les paquets. Par exemple, quand un paquet est supprim\('e, il est
marqu\('e comme ayant \('et\('e s\('electionn\('e pour une d\('esinstallation.
.TP 
\fB\-E\fP, \fB\-\-skip\-same\-version\fP
Ne pas installer le paquet si la m\(^eme version du paquet est d\('ej\(`a install\('ee.
.TP 
\fB\-\-pre\-invoke=\fP\fIcommande\fP
.TQ
\fB\-\-post\-invoke=\fP\fIcommande\fP
Programme l'ex\('ecution de \fIcommande\fP \(`a l'aide \(Fo\ sh \-c\ \(Fc avant ou apr\(`es
l'ex\('ecution de \fBdpkg\fP pour les actions \fIunpack\fP, \fIconfigure\fP, \fIinstall\fP,
\fItriggers\-only\fP, \fIremove\fP, \fIpurge\fP, \fIadd\-architecture\fP et
\fIremove\-architecture\fP (depuis dpkg\ 1.15.4\ ; les actions \fIadd\-architecture\fP
et \fIremove\-architecture\fP depuis dpkg\ 1.17.19). Cette option peut \(^etre
utilis\('ee plusieurs fois. L'ordre dans lequel les options multiples sont
indiqu\('ees sera pr\('eserv\('e et celles indiqu\('ees dans le fichier de configuration
auront la priorit\('e. La variable d'environnement \fBDPKG_HOOK_ACTION\fP est
utilis\('ee pour indiquer aux scripts utilis\('es quelle est l'action actuelle de
\fBdpkg\fP. Note\ :\ les interfaces de \fBdpkg\fP peuvent l'appeler plusieurs fois \(`a
chaque invocation, ce qui peut provoquer l'ex\('ecution des \(Fo\ hooks\ \(Fc plus
souvent que pr\('evu.
.TP 
\fB\-\-path\-exclude=\fP\fImotif\-global\fP
.TQ
\fB\-\-path\-include=\fP\fImotif\-global\fP
Utilise \fImotif\-global\fP comme filtre de chemins, soit en excluant, soit en
r\('e\-incluant des chemins pr\('ec\('edemment exclus, correspondant au motif indiqu\('e,
pendant l'installation (depuis dpkg\ 1.15.8).

\fIAttention\ :\ d\('ependre des chemins exclus peut enti\(`erement casser le
syst\(`eme. Ce r\('eglage doit donc \(^etre utilis\('e avec pr\('ecautions.\fP

Les motifs globaux utilisent les m\(^emes caract\(`eres joker que le
shell\ o\(`u\ \(Fo\ *\ \(Fc correspond \(`a une s\('equence quelconque de caract\(`eres, y compris
une cha\(^ine vide ou le caract\(`ere \(Fo\ /\ \(Fc. Ainsi, \(Fo\ \fI/usr/*/READ*\fP\ \(Fc comportera
\(Fo\ \fI/usr/share/doc/package/README\fP\ \(Fc. Comme toujours, le caract\(`ere \(Fo\ ?\ \(Fc
correspond \(`a un caract\(`ere quelconque (y compris \(Fo\ /\ \(Fc). Le caract\(`ere \(Fo\ [\ \(Fc
marque le d\('ebut d'une classe de caract\(`eres, qui contient une liste de
caract\(`eres, s\('eries de caract\(`eres ou compl\('ements de s\('eries. Veuillez
consulter \fBglob\fP(7) pour plus d'informations \(`a propos des correspondances
globales. Note\ :\ l'impl\('ementation actuelle pourrait r\('e\-inclure plus de
r\('epertoires et liens symboliques que n\('ecessaire, par souci de s\('ecurit\('e et
pour \('eviter des \('echecs possibles de d\('ecompression. Des modifications \(`a venir
pourraient changer cela.

Cela peut servir \(`a exclure tous les chemins sauf certains sp\('ecifiques. Un
cas classique d'utilisation est\ :

.nf
\fB\-\-path\-exclude=/usr/share/doc/*\fP
\fB\-\-path\-include=/usr/share/doc/*/copyright\fP
.fi

qui permet de supprimer tous les fichiers de documentation sauf les fichiers
de \(Fo\ copyright\ \(Fc.

Ces deux options peuvent \(^etre utilis\('ees plusieurs fois et \('eventuellement
\(^etre altern\('ees entre elles. Les deux sont trait\('ees dans l'ordre indiqu\('e\ :\ la
derni\(`ere r\(`egle correspondant \(`a un fichier donn\('e est alors celle qui sera
utilis\('ee.

Les filtres sont appliqu\('es lors du d\('epaquetage des paquets binaires et, en
tant que tel, ont seulement connaissance du type des objets qui sont en
cours de filtrage (par exemple un fichier ordinaire ou un r\('epertoire) et
n'ont pas de visibilit\('e des objets \(`a venir. Comme ces filtres ont des effets
secondaires (\(`a la diff\('erence des filtres de \fBfind\fP(1)), l'exclusion d'un
chemin pr\('ecis qui se trouve \(^etre un objet r\('epertoire, comme
\fI/usr/share/doc\fP, n'aura pas le r\('esultat d\('esir\('e, et seul ce chemin sera
exclu (et qui pourrait \(^etre r\('eint\('egr\('e automatiquement si le code en voit la
n\('ecessit\('e).Le d\('epaquetage de tous les fichiers suivants renferm\('es par ce
r\('epertoire \('echouera.

Astuce\ : Assurez\-vous que les \(Fo\ globs\ \(Fc ne sont pas d\('evelopp\('es par le shell.
.TP 
\fB\-\-verify\-format\fP\fI nom\-de\-format\fP
D\('efinit le format de sortie de la commande \fB\-\-verify\fP (depuis dpkg\ 1.17.2).

Le seul format de sortie g\('er\('e actuellement est \fBrpm\fP, qui consiste en une
ligne par chemin dont la v\('erification a \('echou\('e. Les lignes d\('ebutent par
9\ caract\(`eres pour signaler les r\('esultats d'une v\('erification sp\('ecifique, un
\(Fo\ \fB?\fP\ \(Fc implique que la v\('erification ne peut \(^etre r\('ealis\('ee (absence de
prise en charge, droit d'acc\(`es de fichier,\ etc), \(Fo\ \fB.\fP\ \(Fc implique que la
v\('erification est pass\('ee et un caract\(`ere alphanum\('erique implique qu'une
v\('erification sp\('ecifique a \('echou\('e\ ; l'\('echec de v\('erification md5sum est
identifi\('ee par un \(Fo\ \fB5\fP\ \(Fc en troisi\(`eme caract\(`ere. La ligne continue par une
espace et un caract\(`ere d'attribut (comme \(Fo\ \fBc\fP\ \(Fc pour conffiles \(en\ fichiers
de configuration), une autre espace et le nom de chemin.
.TP 
\fB\-\-status\-fd \fP\fIn\fP
Envoie un \('etat du paquet compr\('ehensible par la machine et met \(`a jour cette
information dans le descripteur de fichier \fIn\fP. Cette option peut \(^etre
sp\('ecifi\('ee plusieurs fois. L'information est g\('en\('eralement constitu\('ee d'un
enregistrement par ligne, dans l'une des formes suivantes\ :
.RS
.TP 
\fBstatus: \fP\fIpaquet\fP\fB: \fP\fI\('etat\fP
L'\('etat du paquet a chang\('e\ ; l'\fI\('etat\fP est tel que dans le fichier d'\('etat
(\ \(Fostatus file\ \(Fc).
.TP 
\fBstatus: \fP\fIpaquet\fP\fB : error : \fP\fImessage\-d'erreur\-complet\fP
Une erreur s'est produite. Toutes les lignes suppl\('ementaires \('eventuelles
dans \fImessage\-d'erreur\-complet\fP seront converties en espaces avant
affichage.
.TP 
\fBstatus: \fP\fIfichier\fP\fB : conffile\-prompt : '\fP\fIreal\-old\fP\fB' '\fP\fIreal\-new\fP\fB' \fP\fIuseredited\fP\fB \fP\fIdistedited\fP
Une question pour un fichier de configuration va \(^etre pos\('ee \(`a l'utilisateur.
.TP 
\fBprocessing: \fP\fIphase\fP\fB: \fP\fIpaquet\fP
Envoy\('e juste avant le d\('ebut du traitement d'une phase. Les \fIphases\fP sont
\fBupgrade\fP, \fBinstall\fP (les deux sont envoy\('es avant le d\('epaquetage),
\fBconfigure\fP, \fBtrigproc\fP, \fBdisappear\fP, \fBremove\fP, \fBpurge\fP.
.RE
.TP 
\fB\-\-status\-logger\fP=\fIcommande\fP
Envoie un \('etat du paquet compr\('ehensible par la machine et met \(`a jour
l'information de progression sur l'entr\('ee standard du processeur de
commandes \fIcommand\fP, \(`a ex\('ecuter avec \(Fo\ sh \-c\ \(Fc (depuis dpkg\ 1.16.0). Cette
option peut \(^etre sp\('ecifi\('ee plusieurs fois. Le format d'affichage utilis\('e est
le m\(^eme que celui de \fB\-\-status\-fd.\fP
.TP 
\fB\-\-log=\fP\fIfichier\fP
Enregistre les mises \(`a jour et actions des changements d'\('etat dans
\fIfichier\fP plut\(^ot que dans le \fI/var/log/dpkg.log\fP par d\('efaut. Si l'option
est pass\('ee plusieurs fois, le dernier nom de fichier est utilis\('e. Les
messages du journal ont cette forme\ :
.RS
.TP 
AAAA\-MM\-JJ HH:MM:SS \fBstartup\fP \fItype\fP \fIcommande\fP
Pour chaque invocation de dpkg o\(`u \fItype\fP est \fBarchives\fP (avec une
\fIcommande\fP \fBunpack\fP ou \fBinstall\fP) ou \fBpackages\fP (avec une \fIcommande\fP
\fBconfigure\fP, \fBtriggers\-only\fP, \fBremove\fP ou \fBpurge\fP).
.TP 
AAAA\-MM\-JJ HH:MM:SS \fBstatus\fP \fI\('etat\fP \fIpaquet\fP \fIversion\-install\('ee\fP
Pour les mises \(`a jour des changements d'\('etat.
.TP 
AAAA\-MM\-JJ HH:MM:SS \fBaction\fP \fIpaquet\fP \fIversion\-install\('ee\fP \fIversion\-disponible\fP
Pour les actions o\(`u \fIaction\fP est \fBinstall\fP, \fBupgrade\fP, \fBconfigure\fP,
\fBtrigproc\fP, \fBdisappear\fP, \fBremove\fP ou \fBpurge\fP.
.TP 
AAAA\-MM\-JJ HH:MM:SS \fBconffile\fP \fIfichier\fP \fId\('ecision\fP
Pour les changements du fichier de configuration o\(`u \fId\('ecision\fP est
\fBinstall\fP ou \fBkeep\fP.
.RE
.TP 
\fB\-\-no\-pager\fP
D\('esactive l'utilisation d'un afficheur pour montrer les informations (depuis
dpkg\ 1.19.2).
.TP 
\fB\-\-no\-debsig\fP
Ne pas tenter de v\('erifier la signature des paquets.
.TP 
\fB\-\-no\-triggers\fP
Durant ce traitement, ne pas lancer d'actions diff\('er\('ees (depuis
dpkg\ 1.14.17), mais les activations seront toujours enregistr\('ees. S'il est
utilis\('e avec \fB\-\-configure\fP \fIpaquet\fP ou \fB\-\-triggers\-only\fP \fIpaquet\fP alors
le postinst du paquet sera toujours ex\('ecut\('e m\(^eme si seule l'ex\('ecution d'une
action diff\('er\('ee est n\('ecessaire. L'utilisation de cette option peut laisser
des paquets dans les mauvais \('etats \fBtriggers\-awaited\fP et
\fBtriggers\-pending\fP. Cela peut \(^etre corrig\('e plus tard en ex\('ecutant \fBdpkg
\-\-configure \-\-pending\fP.
.TP 
\fB\-\-triggers\fP
Annule un pr\('ec\('edent \fB\-\-no\-triggers\fP (depuis dpkg\ 1.14.17).
.
.SH "CODE DE SORTIE"
.TP 
\fB0\fP
L'action demand\('ee s'est correctement d\('eroul\('ee. Ou bien une commande de
v\('erification ou de d\('eclaration renvoie \(Fo\ true\ \(Fc.
.TP 
\fB1\fP
Une commande de v\('erification ou de d\('eclaration renvoie \(Fo\ false\ \(Fc.
.TP 
\fB2\fP
Erreur fatale ou irr\('ecup\('erable due \(`a l'utilisation d'une ligne de commande
non valable, ou interactions avec le syst\(`eme, telles que des acc\(`es \(`a la base
de donn\('ees, des allocations de m\('emoire,\ etc.
.
.SH ENVIRONNEMENT
.SS "Environnement externe"
.TP 
\fBPATH\fP
Cette variable devrait \(^etre d\('efinie dans l'environnement et pointer vers les
chemins du syst\(`eme o\(`u plusieurs programmes requis devraient se trouver. Si
la variable n'est pas d\('efinie ou si les programmes ne sont pas trouv\('es,
\fBdpkg\fP s'arr\(^ete.
.TP 
\fBHOME\fP
Si cette option est utilis\('ee, \fBdpkg\fP utilisera le r\('epertoire indiqu\('e pour
lire le fichier de configuration propre \(`a l'utilisateur.
.TP 
\fBTMPDIR\fP
Si cette option est utilis\('ee, \fBdpkg\fP utilisera le r\('epertoire indiqu\('e pour
cr\('eer les fichiers et r\('epertoires temporaires.
.TP 
\fBSHELL\fP
Le programme ex\('ecut\('e par \fBdpkg\fP quand il lance un nouvel interpr\('eteur de
commandes interactif ou lance une commande avec le shell.
.TP 
\fBPAGER\fP
.TQ
\fBDPKG_PAGER\fP
Le programme ex\('ecut\('e par \fBdpkg\fP quand il utilise un afficheur, par exemple
lorsqu'il affiche des diff\('erences de fichiers de configuration. Si \fBSHELL\fP
n'est pas d\('efini, \fBsh\fP sera utilis\('e \(`a la place. Le \fBDPKG_PAGER\fP se
substitue \(`a la variable d'environnement \fBPAGER\fP (depuis dpkg\ 1.19.2).
.TP 
\fBDPKG_COLORS\fP
D\('efinit le mode de couleur (depuis dpkg\ 1.18.5). Les valeurs actuellement
accept\('ees sont \fBauto\fP (par d\('efaut), \fBalways\fP et \fBnever\fP.
.TP 
\fBDPKG_FORCE\fP
Sets the force flags (since dpkg 1.19.5).  When this variable is present, no
built\-in force defaults will be applied.  If the variable is present but
empty, all force flags will be disabled.
.TP 
\fBDPKG_FRONTEND_LOCKED\fP
D\('efinie par une interface de gestion de paquets pour notifier \(`a dpkg qu'il
ne devrait pas obtenir le verrou d'interface (dpkg\ 1.19.1).
.SS "Environnement interne"
.TP 
\fBLESS\fP
D\('efinie par \fBdpkg\fP \(`a \(Fo\ \fB\-FRSXMQ\fP\ \(Fc, si ce n'est pas d\('ej\(`a configur\('e, lors
du lancement d'un afficheur (depuis dpkg\ 1.19.2). Pour modifier le
comportement par d\('efaut, cette variable peut \(^etre configur\('ee \(`a une autre
valeur y compris une cha\(^ine vide\ ; alternativement, les variables \fBPAGER\fP
ou \fBDPKG_PAGER\fP peuvent \(^etre r\('egl\('ees pour d\('esactiver des options
particuli\(`eres avec \(Fo\fB\-+\fP\(Fc, par exemple \fBDPKG_PAGER="less \-+F"\fP.
.TP 
\fBDPKG_ROOT\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable pour
indiquer quelle installation activer (depuis dpkg\ 1.18.5). La valeur est
destin\('ee \(`a \(^etre ajout\('ee avant n'importe quel chemin sur lequel les scripts
du responsable agissent. Pendant une op\('eration normale, cette variable est
vide. Lors de l'installation de paquets dans un \fBinstdir\fP diff\('erent,
\fBdpkg\fP invoque normalement les scripts du responsable avec \fBchroot\fP(2) et
laisse cette variable vide, mais si \fB\-\-force\-script\-chrootless\fP est
indiqu\('e, alors, l'appel de \fBchroot\fP(2) est ignor\('e et \fBinstdir\fP n'est pas
vide.
.TP 
\fBDPKG_ADMINDIR\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable, pour
indiquer le r\('epertoire d'administration \(`a utiliser (depuis
dpkg\ 1.16.0). Cette variable est toujours fix\('ee \(`a la valeur actuelle de
\fB\-\-admindir\fP.
.TP 
\fBDPKG_FORCE\fP
Defined by \fBdpkg\fP on the subprocesses environment to all the currently
enabled force option names separated by commas (since dpkg 1.19.5).
.TP 
\fBDPKG_SHELL_REASON\fP
Cette variable est d\('efinie pour le shell lanc\('e par \fBdpkg\fP lorsqu'il lui est
demand\('e d'analyser la situation lors du traitement des fichiers de
configuration (depuis dpkg\ 1.15.6). La valeur actuellement valable est\ :
\fBconffile\-prompt\fP.
.TP 
\fBDPKG_CONFFILE_OLD\fP
Cette variable est d\('efinie pour le shell lanc\('e par \fBdpkg\fP lorsqu'il lui est
demand\('e d'analyser la situation lors du traitement des fichiers de
configuration (depuis dpkg\ 1.15.6). Elle contient le nom de l'ancien fichier
de configuration.
.TP 
\fBDPKG_CONFFILE_NEW\fP
Cette variable est d\('efinie pour le shell lanc\('e par \fBdpkg\fP lorsqu'il lui est
demand\('e d'analyser la situation lors du traitement des fichiers de
configuration (depuis dpkg\ 1.15.6). Elle contient le nom du nouveau fichier
de configuration.
.TP 
\fBDPKG_HOOK_ACTION\fP
Cette variable est d\('efinie par \fBdpkg\fP pour le shell lanc\('e lors de
l'ex\('ecution d'une action de point d'entr\('ee (depuis dpkg\ 1.15.4). Elle
contient l'action actuelle de \fBdpkg\fP.
.TP 
\fBDPKG_RUNNING_VERSION\fP
Cette variable est d\('efinie par \fBdpkg\fP dans l'environnement du script du
responsable. Elle contient la version de l'instance de \fBdpkg\fP en cours
d'ex\('ecution (depuis dpkg\ 1.14.17).
.TP 
\fBDPKG_MAINTSCRIPT_PACKAGE\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable, cette
variable contient le nom du paquet (sans qualification d'architecture) en
cours de traitement (depuis dpkg\ 1.14.17).
.TP 
\fBDPKG_MAINTSCRIPT_PACKAGE_REFCOUNT\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable, cette
variable contient le compte de r\('ef\('erence du paquet, c'est\-\(`a\-dire le nombre
d'instances de paquet avec un \('etat plus \('elev\('e que \fBnot\-installed\fP (depuis
dpkg\ 1.17.2).
.TP 
\fBDPKG_MAINTSCRIPT_ARCH\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable, cette
variable contient l'architecture pour laquelle le paquet a \('et\('e construit
(depuis dpkg\ 1.15.4).
.TP 
\fBDPKG_MAINTSCRIPT_NAME\fP
D\('efinie par \fBdpkg\fP dans l'environnement du script du responsable, cette
variable contient le nom du script en cours d'ex\('ecution, \fBpreinst\fP,
\fBpostinst\fP, \fBprerm\fP ou \fBpostrm\fP (depuis dpkg\ 1.15.7).
.TP 
\fBDPKG_MAINTSCRIPT_DEBUG\fP
Cette variable est d\('efinie par \fBdpkg\fP dans l'environnement du script du
responsable \(`a une valeur (\(Fo\ \fB0\fP\ \(Fc ou \(Fo\ \fB1\fP\ \(Fc notant si le d\('ebogage a \('et\('e
demand\('e (avec l'option \fB\-\-debug\fP) pour les scripts du responsable (depuis
dpkg\ 1.18.4).
.
.SH FICHIERS
.TP 
\fI/etc/dpkg/dpkg.cfg.d/[0\-9a\-zA\-Z_\-]*\fP
Fragments de fichiers de configuration (depuis dpkg\ 1.15.4).
.TP 
\fI/etc/dpkg/dpkg.cfg\fP
Fichier de configuration contenant les options par d\('efaut.
.TP 
\fI/var/log/dpkg.log\fP
Fichier journal standard. Voyez \fI/etc/dpkg/dpkg.cfg\fP et l'option
\fB\-\-log\fP.
.P
Les autres fichiers r\('epertori\('es ici sont dans leur r\('epertoire par d\('efaut,
voyez l'option \fB\-\-admindir\fP pour savoir comment changer l'emplacement de
ces fichiers.
.TP 
\fI/var/lib/dpkg/available\fP
Liste des paquets disponibles.
.TP 
\fI/var/lib/dpkg/status\fP
\('Etats des paquets disponibles. Ce fichier contient des informations qui
permettent de savoir si un paquet est marqu\('e comme devant \(^etre supprim\('e ou
pas, devant \(^etre install\('e ou pas,\ etc. Voyez la section \fBRENSEIGNEMENTS SUR
LES PAQUETS\fP pour des informations suppl\('ementaires.

Le fichier d'\('etat est sauvegard\('e quotidiennement dans \fI/var/backups\fP. Cela
peut \(^etre utile en cas de perte ou de corruption due \(`a des probl\(`emes de
syst\(`eme de fichiers.
.P
Le format et le contenu d'un paquet binaire sont d\('ecrits dans \fBdeb\fP(5).
.
.SH BOGUES
L'option \fB\-\-no\-act\fP ne donne pas assez d'informations utiles.
.
.SH EXEMPLES
Affichage des paquets install\('es li\('es \(`a l'\('editeur \fBvi\fP(1) (noter que
\fBdpkg\-query\fP ne charge plus le fichier \fIavailable\fP par d\('efaut, sauf si
l'option \fBdpkg\-query\fP \fB\-\-load\-avail\fP est utilis\('ee)\ :
.br
    \fBdpkg \-l '*vi*'\fP
.br

Pour voir les entr\('ees de \fI/var/lib/dpkg/available\fP concernant deux paquets\ :
.br
    \fBdpkg \-\-print\-avail elvis vim | less\fP
.br

Pour rechercher vous\-m\(^eme dans la liste des paquets\ :
.br
    \fBless /var/lib/dpkg/available\fP
.br

Pour supprimer le paquet install\('e elvis\ :
.br
    \fBdpkg \-r elvis\fP
.br

Pour installer un paquet, vous devez d'abord le trouver dans une archive ou
sur un CD. Le fichier \fIavailable\fP montre que le paquet vim se trouve dans
la section \(Fo\ \fBeditors\fP\ \(Fc\ :
.br
     \fBcd /media/cdrom/pool/main/v/vim\fP
     \fBdpkg \-i vim_4.5\-3.deb\fP
.br

Pour faire une copie locale des \('etats de s\('election des paquets\ :
.br
    \fBdpkg \-\-get\-selections >mes\-s\('elections\fP
.br

Vous pourriez transf\('erer ce fichier sur un autre ordinateur, et apr\(`es avoir
mis \(`a jour le fichier \fIavailable\fP avec l'interface de gestion de paquets de
votre choix (voir https://wiki.debian.org/Teams/Dpkg/FAQ pour plus de
d\('etails), par exemple\ :
.br
     \fBapt\-cache dumpavail | dpkg \-\-merge\-avail\fP
.br
ou avec dpkg\ 1.17.6 et les versions ant\('erieures\ :
.br
     \fBavail=`mktemp`\fP
     \fBapt\-cache dumpavail >"$avail"\fP
     \fBdpkg \-\-merge\-avail "$avail"\fP
     \fBrm "$avail"\fP
.br
vous pouvez l'installer de cette mani\(`ere\ :
.br
    \fBdpkg \-\-clear\-selections\fP
    \fBdpkg \-\-set\-selections <mes\-s\('elections\fP
.br

On remarquera que cela n'installe ou ne supprime rien du tout\ ; cela ne fait
qu'enregistrer l'\('etat souhait\('e des paquets. Vous aurez besoin d'autres
applications pour r\('ecup\('erer et installer r\('eellement les paquets requis. Par
exemple, ex\('ecuter \fBapt\-get dselect\-upgrade\fP.

Habituellement, vous trouverez que \fBdselect\fP(1) fournit une fa\(,con plus
ais\('ee de modifier les \('etats de s\('election des paquets.
.br
.
.SH "FONCTIONNALIT\('ES SUPPL\('EMENTAIRES"
D'autres possibilit\('es sont offertes en installant les paquets suivants\ :
\fBapt\fP, \fBaptitude\fP et \fBdebsums\fP.
.
.SH "VOIR AUSSI"
.ad l
\fBaptitude\fP(1), \fBapt\fP(1), \fBdselect\fP(1), \fBdpkg\-deb\fP(1), \fBdpkg\-query\fP(1),
\fBdeb\fP(5), \fBdeb\-control\fP(5), \fBdpkg.cfg\fP(5) et \fBdpkg\-reconfigure\fP(8).
.
.SH AUTEURS
Consultez \fI/usr/share/doc/dpkg/THANKS\fP pour la liste de ceux qui ont contribu\('e \(`a
\fBdpkg\fP.
.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas Fran\(,cois, 2006.
Veuillez signaler toute erreur \(`a <debian\-l10n\-french@lists.debian.org>.
