.\" dpkg manual page - deb-version(7)
.\"
.\" Copyright © 1996-1998 Ian Jackson and Christian Schwarz
.\"   for parts of the text reused from the Debian Policy
.\" Copyright © 2007 Frank Lichtenheld <djpig@debian.org>
.\" Copyright © 2011, 2013, 2015 Guillem Jover <guillem@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH deb\-version 7 2019-03-25 1.19.6 "suite dpkg"
.nh
.SH NOM
deb\-version \- Format du num\('ero de version des paquets Debian
.
.SH SYNOPSIS
[\fIepoch\fP\fB:\fP]\fIversion_amont\fP[\fB\-\fP\fIr\('evision_debian\fP]
.SH DESCRIPTION
Les num\('eros de version utilis\('es pour les paquets sources et binaires se
composent de trois parties. Celles\-ci sont\ :
.TP 
\fIepoch\fP
Ce nombre est un entier positif (usuellement petit). Il peut \(^etre omis (dans
ce cas, la valeur nulle est implicite). S'il est omis, la \fIversion_amont\fP
peut ne pas contenir de caract\(`ere deux\-points.
.IP
Cette valeur est destin\('ee \(`a permettre de g\('erer des erreurs dans les anciens
num\('eros de version d'un paquet ou un changement dans la m\('ethode de
num\('erotation des versions amont.
.TP 
\fIversion_amont\fP
Cela est la partie principale du num\('ero de version. Cela correspond
normalement au num\('ero de version du paquet d'origine (\(Fo\ upstream\ \(Fc) qui a
servi \(`a cr\('eer le fichier \fI.deb\fP, si cela peut s'appliquer. Le format
d'origine sp\('ecifi\('e par l'auteur est g\('en\('eralement conserv\('e\ ; cependant, il
arrive qu'il soit n\('ecessaire d'adapter ce num\('ero pour qu'il se conforme au
format du syst\(`eme de gestion de paquet et du proc\('ed\('e de comparaison des
num\('eros de version.
.IP
Le principe de comparaison du syst\(`eme de gestion de paquets en ce qui
concerne la \fIversion_amont\fP est d\('ecrit ci\-dessous. La partie
\fIversion_amont\fP du num\('ero de version est obligatoire.
.IP
La \fIversion_amont\fP ne doit contenir que des caract\(`eres alphanum\('eriques
(\(Fo\ A\-Za\-z0\-9\ \(Fc) et les caract\(`eres \fB.\fP \fB+\fP \fB\-\fP \fB:\fP \fB~\fP (point, plus,
tiret, deux\-points, tilde) et devrait commencer par un chiffre. S'il n'y a
pas de partie \fIr\('evision_Debian\fP alors le tiret n'est pas autoris\('e\ ; s'il
n'y a pas d'\fIepoch\fP, alors c'est le caract\(`ere deux\-points qui n'est pas
autoris\('e.
.TP 
\fIr\('evision_Debian\fP
Cette partie du num\('ero de version indique la version du paquet Debian \(`a
partir du num\('ero de la version amont. Elle ne doit contenir que des symboles
alphanum\('eriques et les caract\(`eres \fB+\fP \fB.\fP \fB~\fP (plus, point, tilde). Elle
est analys\('ee de la m\(^eme fa\(,con que la \fIversion_amont\fP.
.IP
Cette partie est facultative\ ; si elle n'est pas pr\('esente, la
\fIversion_amont\fP ne doit pas contenir de tiret. Ce format est pr\('evu pour le
cas o\(`u un logiciel a \('et\('e directement con\(,cu comme paquet Debian, il n'y a
donc qu'une seule \(Fo\ debianisation\ \(Fc et donc par la suite pas besoin
d'indication de r\('evision.
.IP
Il est convenu de repartir \(`a \(Fo\ 1\ \(Fc pour la \fIr\('evision_Debian\fP \(`a chaque fois
que la \fIversion_amont\fP est incr\('ement\('ee.
.IP
Dpkg s'arr\(^etera au dernier tiret du num\('ero de version (s'il y en a un) pour
d\('eterminer la partie \fIversion_amont\fP et la \fIr\('evision_Debian\fP. L'absence de
\fIr\('evision_Debian\fP est compar\('ee avant sa pr\('esence, mais il faut noter que la
\fIr\('evision_Debian\fP est la partie la moins significative du num\('ero de
version.
.SS "Algorithme de tri"
Les parties \fIversion_amont\fP et \fIr\('evision_Debian\fP sont compar\('ees par le
syst\(`eme de gestion de paquet en utilisant le m\(^eme algorithme\ :
.PP
Les cha\(^ines sont compar\('ees de la gauche vers la droite.
.PP
Pour commencer, la premi\(`ere partie de chaque cha\(^ine compos\('ee uniquement de
caract\(`eres non num\('eriques est d\('etermin\('ee. Puis ces deux parties (l'une peut
\(^etre vide) sont compar\('ees lexicalement. Si une diff\('erence est trouv\('ee, elle
est renvoy\('ee. La comparaison lexicale est effectu\('ee sur une version modifi\('ee
des valeurs ASCII afin que les lettres passent avant les autres caract\(`eres
et que les tildes ("~") passent avant tous les caract\(`eres, m\(^eme la fin d'une
partie. Par exemple, les \('el\('ements suivants sont ordonn\('es ainsi\ : \(Fo\ ~~\ \(Fc,
\(Fo\ ~~a\ \(Fc, \(Fo\ ~\ \(Fc, partie vide, \(Fo\ a\ \(Fc.
.PP
Puis, le d\('ebut de ce qui reste des cha\(^ines de caract\(`eres qui ne doivent plus
contenir que des chiffres est d\('etermin\('e. Ces valeurs num\('eriques sont
compar\('ees et les diff\('erences sont remont\('ees. Dans le cas d'une cha\(^ine vide
(ce qui peut arriver si une cha\(^ine est plus longue que l'autre lors de la
comparaison) elle compte pour un z\('ero.
.PP
Ces deux \('etapes (comparaison et suppression des caract\(`eres non num\('eriques
puis de suppression des caract\(`eres num\('eriques dans le d\('ebut de la cha\(^ine)
sont r\('ep\('et\('ees jusqu'\(`a ce qu'une diff\('erence soit trouv\('ee ou la fin des
cha\(^ines atteinte.
.PP
Notez que le r\(^ole de epoch est de permettre de se sortir des probl\(`emes de
num\('erotation de version, et de faire face \(`a des situations de changement de
logique de num\('erotation. Cela n'est \fBpas\fP destin\('e \(`a faire face \(`a des
num\('eros de version qui contiennent des cha\(^ines de lettres que le syst\(`eme de
gestion de paquet ne sait pas interpr\('eter (comme \(Fo\ ALPHA\ \(Fc, \(Fo\ pre\-\ \(Fc) ou
d'autres choses stupides.
.SH NOTES
Le caract\(`ere tilde (\(Fo\ ~\ \(Fc) et sa propri\('et\('e sp\('eciale pour les comparaisons
ont \('et\('e introduites dans la version\ 1.10 de dpkg. Ce n'est qu'\(`a partir des
versions sup\('erieures (1.10.x) que certaines parties des scripts de
construction de dpkg ont commenc\('e \(`a g\('erer ce syst\(`eme.
.SH "VOIR AUSSI"
\fBdeb\-control\fP(5), \fBdeb\fP(5), \fBdpkg\fP(1).
.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas Fran\(,cois, 2006.
Veuillez signaler toute erreur \(`a <debian\-l10n\-french@lists.debian.org>.
