.\" dpkg manual page - dpkg-architecture(1)
.\"
.\" Copyright © 2005 Marcus Brinkmann <brinkmd@debian.org>
.\" Copyright © 2005 Scott James Remnant <scott@netsplit.com>
.\" Copyright © 2006-2015 Guillem Jover <guillem@debian.org>
.\" Copyright © 2009-2012 Rapha\(:el Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-architecture 1 2019-03-25 1.19.6 dpkg\-Programmsammlung
.nh
.SH BEZEICHNUNG
dpkg\-architecture \- Architektur zum Paketbau setzen und bestimmen
.
.SH \(:UBERSICHT
\fBdpkg\-architecture\fP [\fIOption\fP …] [\fIBefehl\fP]
.PP
.
.SH BESCHREIBUNG
\fBdpkg\-architecture\fP stellt eine M\(:oglichkeit bereit, die Rechner\-Architektur
f\(:ur den Paketbau zu bestimmen und zu setzen.
.PP
Die Bau\-Architektur wird immer \(:uber einen externen Aufruf an \fBdpkg\fP(1)
bestimmt und kann nicht auf der Befehlszeile gesetzt werden.
.PP
Sie k\(:onnen die Host\-Architektur (Wirt\-Architektur) spezifizieren, indem Sie
eine oder beide der Optionen \fB\-\-host\-arch\fP oder \fB\-\-host\-type\fP
verwenden. Der Standardwert wird \(:uber einen externen Aufruf an \fBgcc\fP(1)
ermittelt oder ist identisch mit der Bauarchitektur, falls sowohl \fBCC\fP als
auch Gcc nicht verf\(:ugbar sind. Einer von \fB\-\-host\-arch\fP oder \fB\-\-host\-type\fP
ist ausreichend, der Wert des anderen wird auf einen brauchbaren Wert
gesetzt. Tats\(:achlich ist es oft besser, nur einen der beiden anzugeben, da
\fBdpkg\-architecture\fP Sie warnen wird, falls Ihre Wahl nicht mit dem
Standardwert \(:ubereinstimmt.
.
.SH BEFEHLE
.TP 
\fB\-l\fP, \fB\-\-list\fP
Zeige die Umgebungsvariablen, eine pro Zeile, in dem Format
\fIVARIABLE=Wert\fP. Dies ist die Standardaktion.
.TP 
\fB\-e\fP, \fB\-\-equal\fP \fIArchitektur\fP
\(:Uberpr\(:ufe auf Gleichheit der Architekturen (seit Dpkg 1.13.13). Es pr\(:uft die
aktuelle oder angegebene Debian\-Host\-Architektur mit \fIArchitektur\fP auf
Gleichheit. Diese Aktion expandiert nicht die Architektur\-Platzhalter
(Wildcards). Der Befehl beendet sich mit einem Exit\-Status von 0, falls eine
\(:Ubereinstimmung besteht, andernfalls mit 1.

.TP 
\fB\-i\fP, \fB\-\-is\fP \fIArchitektur\-Platzhalter\fP
\(:Uberpr\(:ufe auf Gleichheit der Architekturen (seit Dpkg 1.13.13). Es pr\(:uft die
aktuelle oder angegebene Debian\-Host\-Architektur mit
\fIArchitektur\-Platzhalter\fP, nachdem dieser zu einem Architektur\-Platzhalter
expandiert wurde und pr\(:uft, ob sie passen. Der Befehl beendet sich mit einem
Exit\-Status von 0, falls eine \(:Ubereinstimmung besteht, andernfalls mit 1.
.TP 
\fB\-q\fP, \fB\-\-query\fP \fIVariablenname\fP
Zeige den Wert einer einzelnen Variablen an.
.TP 
\fB\-s\fP, \fB\-\-print\-set\fP
Zeige einen Export\-Befehl. Dies kann dazu verwendet werden, um
Umgebungsvariablen mittels eval zu setzen.
.TP 
\fB\-u\fP, \fB\-\-print\-unset\fP
\(:Ahnlich wie \fB\-\-print\-unset\fP, gebe einen Export\-Befehl aus, der alle
Variablen l\(:oscht.
.TP 
\fB\-c\fP, \fB\-\-command\fP \fIBefehlszeichenkette\fP
F\(:uhre eine \fIBefehlszeichenkette\fP in einer Umgebung aus, in der alle
Variablen auf die festgelegten Werte gesetzt sind.
.TP 
\fB\-L\fP, \fB\-\-list\-known\fP
Gib eine Liste von g\(:ultigen Architekturnamen aus. M\(:oglicherweise durch eine
oder mehrere der Abgleich\-Optionen \fB\-\-match\-wildcard\fP, \fB\-\-match\-bits\fP oder
\fB\-\-match\-endian\fP eingeschr\(:ankt (seit Dpkg 1.17.14).
.TP 
\fB\-?\fP, \fB\-\-help\fP
Zeige den Bedienungshinweis und beende.
.TP 
\fB\-\-version\fP
Gebe die Version aus und beende sich.
.
.SH OPTIONEN
.TP 
\fB\-a\fP, \fB\-\-host\-arch\fP \fIArchitektur\fP
Setzt die Debian\-Host\-Architektur.
.TP 
\fB\-t\fP, \fB\-\-host\-type\fP \fIGNU\-Systemtyp\fP
Setzt den Host\-GNU\-Systemtyp.
.TP 
\fB\-A\fP, \fB\-\-target\-arch\fP \fIArchitektur\fP
Setzt die Ziel\-Debian\-Architektur (seit Dpkg 1.17.14).
.TP 
\fB\-T\fP, \fB\-\-target\-type\fP \fIGNU\-Systemtyp\fP
Setzt den Ziel\-GNU\-Systemtyp (seit Dpkg 1.17.14).
.TP 
\fB\-W\fP, \fB\-\-match\-wildcard\fP \fIArchitektur\-Platzhalter\fP
Begrenzt die mit \fB\-\-list\-known\fP aufgef\(:uhrten Architekturen auf solche, die
auf den angegebenen Architektur\-Platzhalter passen (seit Dpkg 1.17.14).
.TP 
\fB\-B\fP, \fB\-\-match\-bits\fP \fIArchitektur\-Bits\fP
Begrenzt die mit \fB\-\-list\-known\fP aufgef\(:uhrten Architekturen auf solche mit
den angegebenen CPU\-Bits (seit Dpkg 1.17.14). Entweder \fB32\fP oder \fB64\fP.
.TP 
\fB\-E\fP, \fB\-\-match\-endian\fP \fIArchitektur\-Endianness\fP
Begrenzt die mit \fB\-\-list\-known\fP aufgef\(:uhrten Architekturen auf solche mit
der angegebenen Endianness (seit Dpkg 1.17.14). Entweder \fBlittle\fP oder
\fBbig\fP.
.TP 
\fB\-f\fP, \fB\-\-force\fP
Existierende Umgebungsvariablen mit dem gleichen Namen wie vom Skript
verwendet werden nicht \(:uberschrieben (d.h. sie werden von
\fBdpkg\-architecture\fP verwendet), es sei denn, die \(Fcforce\(Fo\-Markierung ist
gesetzt. Dies erlaubt es dem Benutzer einen Wert zu \(:uberschreiben, selbst
wenn der Aufruf von \fBdpkg\-architecture\fP tief in einem anderen Skript
versteckt ist (beispielsweise \fBdpkg\-buildpackage\fP(1)).
.
.SH AUSDR\(:UCKE
.IP Baumaschine 4
Die Maschine, auf der das Paket gebaut wird.
.IP Host\-Maschine 4
Die Maschine, f\(:ur die das Paket gebaut ist.
.IP Ziel\-Maschine 4
Die Maschine, f\(:ur die der Compiler baut. Dies wird nur beim Bau einer
Cross\-Toolchain und zum Bau von Code f\(:ur die Ziel\-Architektur ben\(:otigt. Die
Cross\-Toolchain wird auf der Bauarchitektur gebaut und l\(:auft dann auf der
Host\-Architektur.
.IP Debian\-Architektur 4
Die Debian\-Architektur\-Zeichenkette, die den bin\(:aren Baum im FTP\-Archiv
spezifiziert. Beispiele: i386, sparc, hurd\-i386.
.IP Debian\-Architekturtupel 4
Ein Debian\-Architekturtupel ist eine vollqualifizierte Architektur mit allen
Komponenten ausgeschrieben. Dies unterscheidet sich von der
Debian\-Architektur zumindestens in der Weise, dass das \fIABI\fP nicht
eingebettet ist. Das aktuelle Tupel hat die Form
\fIABI\fP\-\fILibc\fP\-\fIOS\fP\-\fICPU\fP. Beispiele: base\-gnu\-linux\-amd64,
eabihf\-musl\-linux\-arm.
.IP Debian\-Architektur\-Platzhalter 4
Ein Debian\-Architektur\-Platzhalter ist eine spezielle
Architektur\-Zeichenkette, die auf jede reale Architektur, die ein Teil davon
ist, passt. Die allgemeine Form ist ein Debian\-Architektur\-Tupel mit vier
oder weniger Elementen und bei dem mindestens eines \fBany\fP ist. Fehlende
Elemente des Tupels werden implizit als \fBany\fP vorangestellt und daher sind
die folgenden Tupel \(:aquivalent:
.nf
    \fBany\fP\-\fBany\fP\-\fBany\fP\-\fBany\fP = \fBany\fP
    \fBany\fP\-\fBany\fP\-\fIos\fP\-\fBany\fP = \fIos\fP\-\fBany\fP
    \fBany\fP\-\fIlibc\fP\-\fBany\fP\-\fBany\fP = \fIlibc\fP\-\fBany\fP\-\fBany\fP
.fi
Beispiele: linux\-any, any\-i386, hurd\-any, eabi\-any\-any\-arm, musl\-any\-any.
.IP GNU\-Systemtyp 4
Eine Architektur\-Spezifikations\-Zeichenkette besteht aus zwei, durch einen
Bindestrich getrennten Teilen: CPU und System. Beispiele: i586\-linux\-gnu,
sparc\-linux\-gnu, i686\-gnu, x86_64\-netbsd.
.IP Multiarch\-Tripel 4
Der bereinigte GNU\-Systemtyp, wird f\(:ur Dateipfade verwandt. Dieses Tripel
\(:andert sich auch nicht, wenn das zugrundeliegende ISA erh\(:oht wird, so dass
die daraus resultierenden Pfade dauerhaft stabil bleiben. Derzeit ist der
einzige Unterschied zum GNU\-Sytemtyp, dass der CPU\-Anteil f\(:ur i386\-basierte
Systeme immer i386 lautet. Beispiele: i386\-linux\-gnu,
x86_64\-linux\-gnu. Beispielpfade: /lib/powerpc64le\-linux\-gnu/,
/usr/lib/i386\-kfreebsd\-gnu/.
.
.SH VARIABLEN
Die folgenden Variablen werden von \fBdpkg\-architecture\fP gesetzt (siehe den
Abschnitt \fBAUSDR\(:UCKE\fP f\(:ur eine Beschreibung des Benennungsschematas):
.IP \fBDEB_BUILD_ARCH\fP 4
Die Debian\-Architektur der Baumaschine.
.IP \fBDEB_BUILD_ARCH_ABI\fP 4
Der Debian\-ABI\-Name der Baumaschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_BUILD_ARCH_LIBC\fP 4
Der Debian\-Libc\-Name der Baumaschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_BUILD_ARCH_OS\fP 4
Der Debian\-Systemname der Baumaschine. (Seit Dpkg 1.13.2).
.IP \fBDEB_BUILD_ARCH_CPU\fP 4
Der Debian\-CPU\-Name der Baumaschine. (Seit Dpkg 1.13.2).
.IP \fBDEB_BUILD_ARCH_BITS\fP 4
Die Zeigergr\(:o\(sse der Baumaschine in Bits. (Seit Dpkg 1.15.4).
.IP \fBDEB_BUILD_ARCH_ENDIAN\fP 4
Die Endianness der Baumaschine (little/big; seit Dpkg 1.15.4).
.IP \fBDEB_BUILD_GNU_CPU\fP 4
Der CPU\-Teil von \fBDEB_BUILD_GNU_TYPE\fP.
.IP \fBDEB_BUILD_GNU_SYSTEM\fP 4
Der System\-Teil von \fBDEB_BUILD_GNU_TYPE\fP.
.IP \fBDEB_BUILD_GNU_TYPE\fP 4
Der GNU\-Systemtyp der Baumaschine.
.IP \fBDEB_BUILD_MULTIARCH\fP 4
Der klargestellte GNU\-Systemtyp der Baumaschine, wird f\(:ur Dateisystempfade
benutzt.
.IP \fBDEB_HOST_ARCH\fP 4
Die Debian\-Architektur der Host\-Maschine.
.IP \fBDEB_HOST_ARCH_ABI\fP 4
Der Debian\-ABI\-Name der Host\-Maschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_HOST_ARCH_LIBC\fP 4
Der Debian\-Libc\-Name der Host\-Maschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_HOST_ARCH_OS\fP 4
Der Debian\-Systemname der Host\-Maschine. (Seit Dpkg 1.13.2).
.IP \fBDEB_HOST_ARCH_CPU\fP 4
Der Debian\-CPU\-Name der Host\-Maschine. (Seit Dpkg 1.13.2).
.IP \fBDEB_HOST_ARCH_BITS\fP 4
Die Zeigergr\(:o\(sse der Host\-Maschine in Bits. (Seit Dpkg 1.15.4).
.IP \fBDEB_HOST_ARCH_ENDIAN\fP 4
Die Endianness der Host\-Maschine (little/big; seit Dpkg 1.15.4).
.IP \fBDEB_HOST_GNU_CPU\fP 4
Der CPU\-Teil von \fBDEB_HOST_GNU_TYPE\fP.
.IP \fBDEB_HOST_GNU_SYSTEM\fP 4
Der System\-Teil von \fBDEB_HOST_GNU_TYPE\fP.
.IP \fBDEB_HOST_GNU_TYPE\fP 4
Der GNU\-Systemtyp der Host\-Maschine.
.IP \fBDEB_HOST_MULTIARCH\fP 4
Der klargestellte GNU\-Systemtyp der Host\-Maschine, wird f\(:ur Dateisystempfade
benutzt. (Seit Dpkg 1.16.0).
.IP \fBDEB_TARGET_ARCH\fP 4
Die Debian\-Architektur der Ziel\-Maschine (seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_ARCH_ABI\fP 4
Der Debian\-ABI\-Name der Ziel\-Maschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_TARGET_ARCH_LIBC\fP 4
Der Debian\-Libc\-Name der Ziel\-Maschine. (Seit Dpkg 1.18.11).
.IP \fBDEB_TARGET_ARCH_OS\fP 4
Der Debian\-Systemname der Ziel\-Maschine. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_ARCH_CPU\fP 4
Der Debian\-CPU\-Name der Ziel\-Maschine. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_ARCH_BITS\fP 4
Die Zeigergr\(:o\(sse der Ziel\-Maschine in Bits. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_ARCH_ENDIAN\fP 4
Die Endianness der Ziel\-Maschine (little/big; seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_GNU_CPU\fP 4
Der CPU\-Teil von \fBDEB_TARGET_GNU_TYPE\fP. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_GNU_SYSTEM\fP 4
Der System\-Teil von \fBDEB_TARGET_GNU_TYPE\fP. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_GNU_TYPE\fP 4
Der GNU\-Systemtyp der Ziel\-Maschine. (Seit Dpkg 1.17.14).
.IP \fBDEB_TARGET_MULTIARCH\fP 4
Der klargestellte GNU\-Systemtyp der Ziel\-Maschine, wird f\(:ur Dateisystempfade
benutzt. (Seit Dpkg 1.17.14).
.
.SH DATEIEN
.SS Architekturtabellen
Alle diese Dateien m\(:ussen vorhanden sein, damit \fBdpkg\-architecture\fP
funktioniert. Ihr Ort kann zur Laufzeit mit der Umgebungsvariable
\fBDPKG_DATADIR\fP \(:uberschrieben werden. Diese Tabellen enthalten in der ersten
Zeile ein Format\-\fBVersion\fPs\-Pseudofeld, um ihre Version zu kennzeichnen, so
dass Auswerteprogramme pr\(:ufen k\(:onnen, ob sie es verstehen. Beispiel: \(Fc#
Version=1.0\(Fo.
.TP 
\fI/usr/share/dpkg/cputable\fP
Tabelle der bekannten CPU\-Namen und Abbildungen auf ihre
GNU\-Namen. Formatversion 1.0 (seit Dpkg 1.13.2).
.TP 
\fI/usr/share/dpkg/ostable\fP
Tabelle der bekannten Betriebssystemnamen und Abbildungen auf ihre
GNU\-Namen. Formatversion 2.0 (seit Dpkg 1.18.11).
.TP 
\fI/usr/share/dpkg/tupletable\fP
Abbildung zwischen den Debian\-Architektur\-Tupeln und den
Debian\-Architekturnamen. Formatversion 1.0 (seit Dpkg 1.18.11).
.TP 
\fI/usr/share/dpkg/abitable\fP
Tabelle von
Debian\-Architektur\-ABI\-Attributs\-Au\(sserkraftsetzungen. Formatversion 2.0
(seit Dpkg 1.18.11).
.SS Paketierungsunterst\(:utzung
.TP 
\fI/usr/share/dpkg/architecture.mk\fP
Makefile\-Schnipsel, das alle Variablen, die \fBdpkg\-architecture\fP ausgibt,
korrekt setzt und exportiert (seit Dpkg 1.16.1).
.
.SH BEISPIELE
\fBdpkg\-buildpackage\fP akzeptiert die \fB\-a\fP\-Option und gibt dies an
\fBdpkg\-architecture\fP weiter. Weitere Beispiele:
.IP
CC=i386\-gnu\-gcc dpkg\-architecture \-c debian/rules build
.IP
eval \`dpkg\-architecture \-u\`
.PP
\(:Uberpr\(:ufe, ob die aktuelle oder angegebene Host\-Architektur identisch zu
einer Architektur ist:
.IP
dpkg\-architecture \-elinux\-alpha
.IP
dpkg\-architecture \-amips \-elinux\-mips
.PP
\(:Uberpr\(:ufe, ob die aktuelle oder angegebene Host\-Architektur ein Linux\-System
ist:
.IP
dpkg\-architecture \-ilinux\-any
.IP
dpkg\-architecture \-ai386 \-ilinux\-any
.
.SS "Verwendung in debian/rules"
Die Umgebungsvariablen, die von \fBdpkg\-architecture\fP gesetzt werden, werden
an \fIdebian/rules\fP als Make\-Variablen weitergegeben (lesen Sie hierzu die
Make\-Dokumentation). Allerdings sollten Sie sich nicht auf diese verlassen,
da damit der manuelle Aufruf des Skripts verhindert wird. Stattdessen
sollten Sie sie immer mit \fBdpkg\-architecture\fP mit der \fB\-q\fP\-Option
initialisieren. Hier sind einige Beispiele, die auch zeigen, wie sie die
Cross\-Kompilierungs\-Unterst\(:utzung in Ihrem Paket verbessern k\(:onnen:
.PP
Ermitteln des GNU\-Systemtyps und dessen Weiterleitung an ./configure:
.PP
.RS 4
.nf
DEB_BUILD_GNU_TYPE ?= $(shell dpkg\-architecture \-qDEB_BUILD_GNU_TYPE)
DEB_HOST_GNU_TYPE ?= $(shell dpkg\-architecture \-qDEB_HOST_GNU_TYPE)
[…]
ifeq ($(DEB_BUILD_GNU_TYPE), $(DEB_HOST_GNU_TYPE))
  confflags += \-\-build=$(DEB_HOST_GNU_TYPE)
else
  confflags += \-\-build=$(DEB_BUILD_GNU_TYPE) \e
               \-\-host=$(DEB_HOST_GNU_TYPE)
endif
[…]
\&./configure $(confflags)
.fi
.RE
.PP
Etwas nur f\(:ur eine bestimmte Architektur erledigen:
.PP
.RS 4
.nf
DEB_HOST_ARCH ?= $(shell dpkg\-architecture \-qDEB_HOST_ARCH)

ifeq ($(DEB_HOST_ARCH),alpha)
  […]
endif
.fi
.RE
.PP
oder, falls Sie nur den CPU\- oder OS\-Typ \(:uberpr\(:ufen m\(:ussen, verwenden Sie
die \fBDEB_HOST_ARCH_CPU\fP\- oder \fBDEB_HOST_ARCH_OS\fP\-Variablen.
.PP
Beachten Sie, dass Sie sich auch auf ein externes Makefile\-Schnipsel
abst\(:utzen k\(:onnen, um alle Variablen, die \fBdpkg\-architecture\fP bereitstellen
kann, korrekt zu setzen:
.PP
.RS 4
.nf
include /usr/share/dpkg/architecture.mk

ifeq ($(DEB_HOST_ARCH),alpha)
  […]
endif
.fi
.RE
.PP
Auf jeden Fall sollten Sie niemals \fBdpkg \-\-print\-architecture\fP verwenden,
um die Architekturinformationen w\(:ahrend eines Paketbaus zu erhalten.
.
.SH UMGEBUNG
.TP 
\fBDPKG_DATADIR\fP
Falls dies gesetzt ist, wird es als Datenverzeichnis von \fBdpkg\fP verwandt,
in dem sich die Architekturtabellen befinden (seit Dpkg
1.14.17). Standardm\(:a\(ssig \(Bq/usr/share/dpkg\(lq.
.TP 
\fBDPKG_COLORS\fP
Setzt den Farbmodus (seit Dpkg 1.18.5). Die derzeit unterst\(:utzten Werte
sind: \fBauto\fP (Vorgabe), \fBalways\fP und \fBnever\fP.
.TP 
\fBDPKG_NLS\fP
Falls dies gesetzt ist, wird es zur Entscheidung, ob Native Language
Support, auch als Internationalisierung (oder i18n) Unterst\(:utzung bekannt,
aktiviert wird (seit Dpkg 1.19.0). Die akzeptierten Werte sind: \fB0\fP und
\fB1\fP (Vorgabe).
.
.SH BEMERKUNGEN
Alle langen Befehle und Optionennamen sind seit Dpkg 1.17.17 verf\(:ugbar.
.
.SH "SIEHE AUCH"
\fBdpkg\-buildpackage\fP(1).
.SH \(:UBERSETZUNG
Die deutsche \(:Ubersetzung wurde 2004, 2006-2019 von Helge Kreutzmann
<debian@helgefjell.de>, 2007 von Florian Rehnisch <eixman@gmx.de> und
2008 von Sven Joachim <svenjoac@gmx.de>
angefertigt. Diese \(:Ubersetzung ist Freie Dokumentation; lesen Sie die
GNU General Public License Version 2 oder neuer f\(:ur die Kopierbedingungen.
Es gibt KEINE HAFTUNG.
